<?xml version="1.0" encoding="UTF-8"?>
<document signature="Hero Lab Data">
  <thing id="c5CBbnXGAG" name="Path of the Ancestral Guardian" description="Some barbarians come from cultures revering their ancestors and are taught that the spirits of tribal warriors linger in the world as guides. Following this path, the barbarian contacts the spirit world and asks guidance from these guardian spirits. \n\nBarbarians who draw on their ancestral guardians fight to protect their tribes and allies better. Barbarians of this path often cover themselves in elaborate tattoos that commemorate their ancestor&apos;s deeds. These tattoos tell the sagas of victories over terrible rivals and monsters." compset="CustomSpec" summary="Your strength comes from your ancestors" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnPriPath" name="Barbarian Primal Path" abbrev="Barbarian Primal Path"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpBbn" name="Barbarian" abbrev="Barbarian"/>
    <bootstrap thing="c5CBbnAnPr">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CBbnSpSh">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CBbnSpSh">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CBbnSpSh">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="c5CBbnCoSp">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CBbnVeAn">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    </thing>
  <thing id="c5CBbnAnPr" name="Ancestral Protectors" description="Starting when you choose this path at 3rd level, when you rage spectral warriors appear to help you. While raging, the first creature you hit with an attack becomes the target of these spectral warriors. The spectral warriors hinder the creatures attacks. Until the start of your next turn, the target has disadvantage on any attack roll that isn&apos;t against you, and when they hit a creature other than you with an attack, that creature is granted resistance to the deamage dealt to that single attack. The effect on the target ends early when your rage ends." compset="ClSpecial" summary="Spectral warriors appear when you rage.">
    <comment>~edited: Cpt. Coots</comment>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="FeatureTyp" tag="Special"/>
    <tag group="abAction" tag="None"/>
    </thing>
  <thing id="c5CBbnSpSh" name="Spirit Shield" description="Starting at 6th level, the ancestral guardians can provide protection to those you defend. If you are raging and another creature within 30 feet of you that you can see takes damage, you can use your reaction to reduce the damage by 2d6 points.\n\nThe damage reduction increases to 3d6 at 10th level, and by 4d6 at 14th level." compset="ClSpecial" summary="Your guardians deflect attacks.">
    <fieldval field="abValue2" value="6"/>
    <fieldval field="trkMax" value="1"/>
    <fieldval field="abRange" value="30"/>
    <fieldval field="abValue" value="1"/>
    <tag group="LvNamePar" tag="SignAppVal" name="Sign appended value" abbrev="Sign appended value"/>
    <tag group="Usage" tag="Round" name="/round" abbrev="/round"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="abDuration" tag="Instant" name="Instantaneous" abbrev="inst"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="LvNamePar" tag="AppText" name="Append &quot;field[abText].text&quot;" abbrev="Append &quot;field[abText].text&quot;"/>
    <tag group="LvNamePar" tag="AppValue3" name="Append &quot;field[abValue3].value&quot;" abbrev="Append &quot;field[abValue3].value&quot;"/>
    <tag group="FeatureTyp" tag="Special"/>
    <tag group="abAction" tag="Reaction"/>
    <tag group="LvNamePar" tag="DieCntVal" name="&quot;field[abValue].value&quot; dY" abbrev="&quot;field[abValue].value&quot; dY"/>
    <tag group="LvNamePar" tag="DieSizVal2" name="Xd &quot;field[abValue2].value&quot;" abbrev="Xd &quot;field[abValue2].value&quot;"/>
    <eval phase="PostLevel" priority="10000">field[abValue].value += field[xCount].value</eval>
    <eval phase="Render" priority="10000" index="2"><![CDATA[
field[listname].text = field[thingname].text & " (" & field[abValue].value & "d6 damage)"]]></eval>
    </thing>
  <thing id="c5CBbnCoSp" name="Consult the Spirits" description="At 10th level, you gain the ability to consult your ancestral spirits. When you do so, you can cast either the {i}augury{/i} or the {i}clairvoyance{/i} spell, without using a spell slot or any material components. The {i}clairvoyance{/i} spell does not creat a spherical sensor, instead summoning an invisible ancestral spirit to the chosen location. Wisdom is your spellcasting ability for these spells. \n\nAfter you use this feature, you cannot do so again until you finish a short or long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="Usage" tag="ShortRest"/>
    <tag group="abAction" tag="Action"/>
    <tag group="FeatureTyp" tag="Special"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="SpInfo" tag="spAugury"/>
    <tag group="SpInfo" tag="spClairvoy"/>
    </thing>
  <thing id="c5CBbnVeAn" name="Vengeful Ancestors" description="At 14th level, whenever your Spirit Shield reduces damage from an attack, the attacker suffers an equal amount of force damage in retaliation." compset="ClSpecial">
    <fieldval field="abRange" value="30"/>
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="FeatureTyp" tag="Special"/>
    <tag group="abDuration" tag="ConstRage"/>
    </thing>
  <thing id="c5CBbnStHe" name="Path of the Storm Herald" description="Barbarians who take the path of the Storm Herald, learn to channel their rage into a mantle of primal magic. While in a fury, they tap into the forces of nature to create powerful magical effect.\n\nStorm heralds are usually the elite champions that train with druids, rangers and other protectors of nature. Others may hone their craft in remote regions racked by storms, permanently frozen, or deep in the searing desert dunes." compset="CustomSpec" summary="Your rage bends the elements to your will" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnPriPath" name="Barbarian Primal Path" abbrev="Barbarian Primal Path"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="SpecSource" tag="cHelpBbn" name="Barbarian" abbrev="Barbarian"/>
    <bootstrap thing="c5CBbnStAu">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CBbnStoS">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CBbnShiS">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CBbnRagS">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    </thing>
  <thing id="c5CBbnStAu" name="Storm Aura" description="Starting at 3rd level, when you rage you emanate a stormy, magical aura out to 10 feet. This aura cannot pass through total cover. \n\nYour aura has an effect that activates when you enter your rage, and you can activate the effect again on each of your turns as a bonus action. You must choose one of the following: desert, sea, or tundra. You can change this environment whenever you gain a level in this class.\n\nIf your aura requires a saving throw, the DC equals 8 + your proficiency bonus + your Constitution modifier.\n\n{i}Desert.{/i}{/b} When this effect is activated, all other creatures in your arua take 2 fire damage each turn. The damage increases when you reach certain levels in this class increasing to 3 at 5th level, 4 at 10th level, 5 at 15th level and 6 at 20th level.\n\n{b}{i}Sea.{/i}{/b} When this effect is activated, you can choose one other creature you can see in your aura. The target must make a Dexterity saving throw. The target takes 1d6 lightning damage on a failed save, or half as much damage on a successful save. The damage increases when you reach certain levels in this calls, increasing to 2d6 at 20th level, 3d6 at 15th level, and 4d6 at 20th level.\n\n{b}{i}Tundra.{/i}{/b} When this effect is activated, each creature of your choice in your aura gains 2 temporary hit points, as icy spirits inure it to suffering. The temporary hit points increase when you reach certain levels in this class, increasing to 3 at 5th level, 4 at 10th level, 5 at 15th level and 6 at 20th level." compset="ClSpecial" summary="While raging, a storm encompasses you.">
    <comment>Need Scripting?</comment>
    <fieldval field="abRange" value="10"/>
    <fieldval field="usrLabelAr" value="Environment"/>
    <arrayval field="usrArray" index="0" value="Desert"/>
    <arrayval field="usrArray" index="1" value="Sea"/>
    <arrayval field="usrArray" index="2" value="Tundra"/>
    <tag group="abSave" tag="Varies"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abDuration" tag="ConstRage"/>
    <tag group="StandardDC" tag="aCON"/>
    <tag group="FeatureTyp" tag="Special"/>
    </thing>
  <thing id="c5CBbnStoS" name="Storm Soul" description="At 6th level, your storm grants you benefits even when the aura is not active.  The benefits are based on the environment you chose for Storm Aura.\n\n{i}Desert.{/b}{/i} You gain resistance to fire damage, and you don&apos;t suffer the effects of extreme heat, as described in the {i}DMG{/i}. Moreover, as an action you can touch a flammable object that isn&apos;t being worn or carried by anyone else and set it on fire. \n\n{b}{i}Sea.{/b}{/i} You gain resistance to lightning damage, and you can breathe underwater. You also gain a swimming speed of 30 feet. \n\n{b}{i}Tundra.{/b}{/i} You gain resistance to cold damage, and you don&apos;t suffer the effects of extreme cold, as descried in the {i}DMG{/i}. Moreover, as an action, you can touch water and turn an unoccupied 5-foot cube of it into ice, which melts after 1 minute." compset="ClSpecial">
    <comment>Sea swimming may not stack properly.</comment>
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="FeatureTyp" tag="Special"/>
    <eval phase="Final" priority="10000"><![CDATA[doneif (#levelcount[Barbarian] < 6)
doneif (tagis[Helper.Disable] <> 0)
~ Set the resistances based on Storm Aura choice.
var StVal as number

StVal = hero.childfound[c5CBbnStAu].field[usrIndex].value

if (StVal = 0) then
   perform hero.assign[DamageRes.dtFire]
elseif (StVal = 1) then
   perform hero.assign[DamageRes.dtLightnin]
   hero.child[xSwim].field[abValue].value = 30
else
   perform hero.assign[DamageRes.dtCold]
endif]]></eval>
    </thing>
  <thing id="c5CBbnShiS" name="Shielding Storm" description="At 10th level, your mastery of the storm extends to the protection of others. Each creature of your choice gains the resistance granted by your Storm Soul while it is in the area affected by your Storm Aura." compset="ClSpecial" summary="Your storm can protect others now.">
    <fieldval field="abRange" value="10"/>
    <tag group="abAction" tag="None"/>
    <tag group="FeatureTyp" tag="Special"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CBbnRagS" name="Raging Storm" description="At 14th level, the power of your storm grows and lashes out at your foes. The effect is based on what you chose for your Storm Aura.\n\n{b}{i}Desert.{/b}{/i} Immediatley after a creature in your aura hits you with an attack, you can use your reaction to force that creature to make a Dexterity saving throw. On a failed save, the creature takes fire damage equal to half your barbarian level.\n\n{b}{i}Sea.{/b}{/i} When you hit a creature in your aura with an attack, you can use your reaction to force that creature to make a Strength saving throw. On a failed save, the creature is knocked prone, as if struck by a wave.\n\n{b}{i}Tundra.{/b}{/i} Whenever the effect of your Storm Aura is activated, you can choose one creature you can see in the aura. That creature must succeed on a Strength saving throw, or its speed is reduced to 0 until the start of your next turn, as magical frost covers it." compset="ClSpecial" summary="Your storm rages harder against foes.">
    <fieldval field="abRange" value="10"/>
    <tag group="abAction" tag="5CNORound"/>
    <tag group="FeatureTyp" tag="Special"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="StandardDC" tag="aCON"/>
    </thing>
  <thing id="c5CBbnZeal" name="Path of the Zealot" description="Some dieties inspire their followers to battle with ferocious zeal. These barbarians are divine warriors, channeling their rage into powerful displays of their chosen deities. \n\nGenerally, the gods who inspire zealots are deities of combat, destruction, and violence. Not all are evil, but very few are good." compset="CustomSpec" summary="Your religious zeal decimates foes." uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpBbn" name="Barbarian" abbrev="Barbarian"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnPriPath" name="Barbarian Primal Path" abbrev="Barbarian Primal Path"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <bootstrap thing="c5CBbnDiFu">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CBbnWaGo">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CBbnFaFo">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cBbn5CZePr">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CBbnBeDe">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    </thing>
  <thing id="c5CBbnDiFu" name="Divine Fury" description="Starting at 3rd level, when you choose this path, you can channel divine fury into your weapon strikes. While raging, the first creature you hit on each of your turns with a weapon attack takes extra damage equal to 1d6 + half your barbarian level. You choose whether this is necrotic or radiant damage when you gain this feature." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <fieldval field="usrCandid1" value="(thingid.dtRadiant | thingid.dtNecrotic)"/>
    <tag group="abRange" tag="AttackMel"/>
    <tag group="abDuration" tag="ConstRage"/>
    <tag group="User" tag="Tracker"/>
    <tag group="FeatureTyp" tag="Special"/>
    <tag group="Usage" tag="Round"/>
    <tag group="LvNamePar" tag="DieCnt1"/>
    <tag group="LvNamePar" tag="AppText"/>
    <tag group="LvNamePar" tag="SignAppVal"/>
    <tag group="LvNamePar" tag="DieSiz6"/>
    <tag group="abAction" tag="Free"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <tag group="User" tag="NoAutoName"/>
    <tag group="LvNamePar" tag="AppValue3"/>
    <eval phase="PostLevel" priority="10000">var LvMod as number

LvMod = #levelcount[Barbarian] / 2

field[abValue3].value = round(LvMod, 0, -1)

field[abText].text = field[usrChosen1].chosen.field[name].text</eval>
    </thing>
  <thing id="c5CBbnWaGo" name="Warrior of the Gods" description="At 3rd level, your god wishes you to return to battle. If {i}raise dead{/i}, or a similar spell, is cast on you in order to restore your life (but not to make you undead), the caster doesn&apos;t need material components in order to cast the spell." compset="ClSpecial" summary="Your god wants you to keep fighting.">
    <tag group="FeatureTyp" tag="Special"/>
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Permanent"/>
    </thing>
  <thing id="c5CBbnFaFo" name="Fanatical Focus" description="Starting at 6th level, your divine rage can protect you. If you fail a saving throw while you&apos;re raging, you can reroll it. You must use the new roll. You can use this feature only once per rage." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="ConstRage"/>
    <tag group="User" tag="Tracker"/>
    <tag group="FeatureTyp" tag="Special"/>
    <tag group="Usage" tag="5CperRage" name="/rage"/>
    </thing>
  <thing id="cBbn5CZePr" name="Zealous Presence" description="At 10th level, you learn to inspire others with your divine zealotry. As a bonus action, you utter a battle cry infused with divine energy. Up to 10 other creatures of your choice within 60 feet of you that can hear you gain adavantage on attack rolls and saving throws until the start of your next turn. \n\nOnce you use this ability, you can&apos;t use it again until you have finished a long rest." compset="ClSpecial">
    <fieldval field="abRange" value="60"/>
    <fieldval field="abDuration" value="Until the start of your next turn"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="FeatureTyp" tag="Special"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="LongRest"/>
    </thing>
  <thing id="c5CBbnBeDe" name="Rage Beyond Death" description="After reaching 14th level, the divine rage allows you to ignore fatal blows.\n\nWhile you&apos;re raging, having 0 hit points does not knock you unconscious. You still must make death saving throws, and you suffer the normal effects of taking damage while at 0 hit points. However, if you would die due to failing deathe saving throws, you don&apos;t die until your rage ends. When your rage ends, you die only if you still have 0 hit points." compset="ClSpecial">
    <tag group="FeatureTyp" tag="Special"/>
    <tag group="abAction" tag="Free"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="ConstRage"/>
    </thing>
  <thing id="c5CBrdGlam" name="College of Glamour" description="The College of Glamour is where bards who mastered their craft in the Feywild or under the tutelage of a resident from that vibrant realm. These bards have been tutored by the likes of eladrin, satyrs, and other fey, learning to use their magic to delight and captivate. \n\nThese bards are regarded with a mixture of awe and fear. The put on legendary performances. They can speak so eloquently that their captors may release them unharmed or can even lull dragons into complacence. The same magic that allows them to calm beasts can also bend minds. Villains of this college can abuse the hospitality of a community for weeks, often turning their hosts into slavish thralls. Heroic bards of this college choose instead to gladden the beat-down and undermine tyrants." compset="CustomSpec" uniqueness="unique">
    <comment>Supercedes UA - Bards</comment>
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpBrd" name="Bard" abbrev="Bard"/>
    <tag group="abCategory" tag="BrdCollege" name="Bardic College" abbrev="Bardic College"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="c5CBrdMaIn">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CBrdEntP">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CBrdManM">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CBrdUnbM">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    </thing>
  <thing id="c5CBrdSwor" name="College of Swords" description="Called blades, bards of the College of Swords entertain by displaying their prowess and control of all manner of weapons. Blades are the sword swallowers, the knife tossers and jugglers, and the flashy combatants in mock swordplay. Though they use their weapons to entertain, they are also deadly, skilled warriors that are capable in a fight.\n\nTheir skills with weapons inspire many blades to lead double lives. One might use a circus job as cover for wicked deeds, such as assassinations, robberies and blackmail. Others may strike at the wicked, bringing justice to the cruel and tyrannical. Many troupes welcome a blade&apos;s talent, but few ever come to fully trust them. \n\nBlades who abandon their careers as entertainers often run into trouble keeping their activities secret. Any blade caught stealing or dispensing vigilante justice is often shunned by circus troupes as too great a liability. With their weapon skills and magic spells, these blades often fall into the role of enforces for thieves&apos; guilds or must form alliances with adventuring parties." compset="CustomSpec" uniqueness="unique">
    <comment>Supercedes kits of old.</comment>
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpBrd" name="Bard" abbrev="Bard"/>
    <tag group="abCategory" tag="BrdCollege" name="Bardic College" abbrev="Bardic College"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="c5CBrdBoSw">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CBrdFigS">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CBrdBlaF">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CBrdSwEA">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CBrdMaFl">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    </thing>
  <thing id="c5CBrdWhis" name="College of Whispers" description="Most folk are happy to welcome a bard, and bards of the College of Whispers use this to advantage. They appear as any other type of bard, sharing news, singing songs, and telling tales. In truth, these bards are the wolves among sheep. They have been taught to use their knowledge and magic to uncover secrets and turn them against others through extortion and blackmail.\n\nMany other bards hate the members of the College of Whispers, viewing it as a hateful parasite using the reputation of other bards to acquire wealth and power. For this reason, members of the College of Whispers reveal their true nature, claiming some other college and keeping their calling secret." compset="CustomSpec" uniqueness="unique">
    <comment>Supercedes UA - Bards</comment>
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpBrd" name="Bard" abbrev="Bard"/>
    <tag group="abCategory" tag="BrdCollege" name="Bardic College" abbrev="Bardic College"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <bootstrap thing="c5CBrdPsBl">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CBrdWoTe">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CBrdManW">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CBrdShaL">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    </thing>
  <thing id="c5CClrXGFo" name="Forge" description="The gods of the forge are patrons to humble blacksmiths making horshoes and mighty artisans famed for their demon killing weapons alike. These gods teach that through hard work and patience, event the hardest metals can be transformed from shapeless lump to artfully wrought objects. Clerics of this domain search for objects lost to the forces of darkness, hidden by evil, to find materials necessary to create potent magic items. Followers of these gods are willing to craft and use heavy armor and powerful weapons to protect themselves." compset="CustomSpec" uniqueness="unique">
    <comment>Supercedes UA: Cleric Domains</comment>
    <usesource source="5eXGTECP"/>
    <tag group="abCategory" tag="ClrDomain" name="Cleric Domain" abbrev="Cleric Domain"/>
    <tag group="SpecSource" tag="cHelpClr" name="Cleric" abbrev="Cleric"/>
    <bootstrap thing="spIdentify">
      <autotag group="BonusSplAt" tag="1"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="sp5CSearSm">
      <autotag group="BonusSplAt" tag="1"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spHeatMeta">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spMagiWeap">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="sp5CElemWe">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spProtEner">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spFabricat">
      <autotag group="BonusSplAt" tag="7"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spWallFire">
      <autotag group="BonusSplAt" tag="7"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spAnimObje">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spCreation">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="c5CClrBPFo">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CClrBlFo">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CClrArBl">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CClrSoFo">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CClrDSFo">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="c5CClrDSFo">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="c5CClrSaFF">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    </thing>
  <thing id="c5CClrXGGr" name="Grave" description="Gods of the grave are concerned with the transition from life to death. These deities see death and afterlife as a foundation to the multiverse - desecrating the peace of the undead is seen as an abomination. Followers of these deities seek to put wandering spirits to rest, destroy undead abominatins, and aid the dying by easing their suffering. Their magic allows them to also delay death for a shor time, particularly if it accomplishes some great work for the world. This delay is not a denial, death always gets its due." compset="CustomSpec" summary="Your deity opposes undeath." uniqueness="unique">
    <comment>Supercedes UA: Cleric Domains</comment>
    <usesource source="5eXGTECP"/>
    <tag group="abCategory" tag="ClrDomain" name="Cleric Domain" abbrev="Cleric Domain"/>
    <tag group="SpecSource" tag="cHelpClr" name="Cleric" abbrev="Cleric"/>
    <bootstrap thing="spBane">
      <autotag group="BonusSplAt" tag="1"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spFalsLife">
      <autotag group="BonusSplAt" tag="1"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spGentRepo">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spRayEnfe">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spRevivify">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spVampTouc">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spBlight">
      <autotag group="BonusSplAt" tag="7"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spDeatWard">
      <autotag group="BonusSplAt" tag="7"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spAntiShel">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spRaisDead">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="c5CClrCiMo">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CClrEyGr">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CClrPaGr">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CClrDeDo">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CClrPotS">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="c5CClrKeSo">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    </thing>
  <thing id="c5CDrdDrea" name="Circle of Dreams" description="Druids from the Circle of Dreams hail from regions with strong ties to the Feywild and other dreamlike relms. Their guardianship of the natural world allies them with good-aligned fey. These druids seek to fill the world with a dreamy wonder. Their magic brings joy to the downtrodden, heals the wounded. The realms they protect are gleaming dreamlike places where reality and the dreamworld blur together and the inhabitants can find peace." compset="CustomSpec" uniqueness="unique">
    <comment>Supercedes UA: Druid Circles</comment>
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpDrd" name="Druid" abbrev="Druid"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="c5CDrdBaSu">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CDrdHeMS">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CDrdHiPa">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CDrdWaDr">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    </thing>
  <thing id="c5CDrdShep" name="Circle of the Shepherd" description="Druids of Circle of the Shepherd commune with the spirits of beasts and the fey, and may call to those spirits for aid. They recognize that all living beings play a role in the world, yet the focus on protecting those creatures that cannot successfully defend themselves. Shepherds see such creatures as their charges and ward of monsters that threaten them, hunters that kill more than needed., and prevent settlement on lands encroaching sacred fey sites as well as endangered animal homes. Most Shepherds are more comfortable away from the city, enjoying the company of animals and fey.\n\nMembers of this circle usually become adventurers to oppose forces threating their charges or to learm power and knowledge to safeguard those they choose to protect." compset="CustomSpec" uniqueness="unique">
    <comment>Supercedes UA: Druid Circles</comment>
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpDrd" name="Druid" abbrev="Druid"/>
    <bootstrap thing="c5CDrdSpWo">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CDrdSpiT">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CDrdMigS">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CDrdGuaS">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CDrdFaiS">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    </thing>
  <thing id="c5CFtrArcA" name="Arcane Archer" description="Using unique elven techniques an Arcane Archer weaves magic into their archery attacks to produce stunning, supernatural effects. Arcane Archers are considered the most elite warriors of elven communities. Over the centuries, these techniques have been learned by other races who also balance arcane ability with archery." compset="CustomSpec" uniqueness="unique">
    <comment>Supercedes UA: Fighter Archetypes</comment>
    <usesource source="5eXGTECP"/>
    <tag group="abCategory" tag="FtrMarArch" name="Fighter Martial Archetype" abbrev="Fighter Martial Archetype"/>
    <tag group="Helper" tag="Secondary" name="Secondary" abbrev="Secondary"/>
    <tag group="SpecSource" tag="cHelpFtr" name="Fighter" abbrev="Fighter"/>
    <bootstrap thing="c5CFtrArAL">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CFtrArSh">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CFtrMagA">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CFtrCurS">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CFtrEveS">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <eval phase="PostLevel" priority="9000"><![CDATA[       doneif (tagis[Helper.Disable] <> 0)

       linkage[table].field[cSpec4thNm].text = "Arcane Shots"
       linkage[table].field[cSpec4thSi].text = "Arcane Shot"

       linkage[table].field[cCustQuTot].arrayvalue[2] += 2
       linkage[table].field[cCustQuTot].arrayvalue[6] += 3
       linkage[table].field[cCustQuTot].arrayvalue[9] += 4
       linkage[table].field[cCustQuTot].arrayvalue[14] += 5
       linkage[table].field[cCustQuTot].arrayvalue[17] += 6]]></eval>
    </thing>
  <thing id="c5CFtrPieA" name="Piercing Arrow" description="Using transmutation magic you give your arrow an ethereal quality. When you use this Arcane Shot option, you don&apos;t make an attack roll for your attack. Instead the arrow shoots foward in a line, which is 1 foot wide and 30 feet long. The arrow disappears at the end of this line. The arrow passes harmlessly through any intervening objects, ingnorming cover. Each creature in the line must make a Dexterity saving throw. On a failed save, the creature takes damage as though it were hit by the arrow, plus an extra 1d6 piercing damage. On a successful save, a target takes half as much damage.\n\nAs you reach 17th level in Fighter, the piercind damage increases to 2d6." compset="CustomSpec" uniqueness="unique">
    <fieldval field="abText" value="piercing"/>
    <fieldval field="abValue" value="1"/>
    <fieldval field="abValue2" value="6"/>
    <usesource source="5eXGTECP"/>
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="StandardDC" tag="aINT"/>
    <tag group="abSave" tag="aDEX"/>
    <tag group="Helper" tag="Quaternary" name="Quaternary" abbrev="Quaternary"/>
    <tag group="SpecSource" tag="cHelpFtr" name="Fighter" abbrev="Fighter"/>
    <tag group="abCategory" tag="FtrAAShots" name="Fighter Arcane Archer Arcane Shots" abbrev="Fighter Arcane Archer Arcane Shots"/>
    <tag group="LvNamePar" tag="DieCntVal"/>
    <tag group="LvNamePar" tag="AppText"/>
    <tag group="LvNamePar" tag="DieSizVal2"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (#levelcount[Fighter] < 18)

field[abValue].value += 1]]></eval>
    </thing>
  <thing id="c5CFtrCava" name="Cavalier" description="A Cavalier excels at combat while mounted. Usually a Cavalier is born from nobility and raised at court, equally at ease at state dinners as they are leading cavalry charges. Cavaliers also train on techniques to guard those in their charge from harm, often serving to protect their superiors and the weak alike. Compelled to right wrongs and earn prestige, many Cavaliers lead adventurous lives." compset="CustomSpec" uniqueness="unique">
    <comment>New</comment>
    <usesource source="5eXGTECP" parent="p5eBooks" name="Xanathar&apos;s Guide To Everything"/>
    <tag group="abCategory" tag="FtrMarArch" name="Fighter Martial Archetype" abbrev="Fighter Martial Archetype"/>
    <tag group="SpecSource" tag="cHelpFtr" name="Fighter" abbrev="Fighter"/>
    <tag group="Helper" tag="Secondary" name="Secondary" abbrev="Secondary"/>
    <bootstrap thing="c5CFtrCBPr">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CFtrBorS">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CFtrUnwM">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CFtrWaMa">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CFtrHolL">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CFtrFerC">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="c5CFtrVigD">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    </thing>
  <thing id="c5CFtrXGSa" name="Samurai" description="The Samurai overcomes enemies by drawing on an implacable fighting spirit. The Samurai&apos;s resolve is nearly unbreakable, and will grant foes only two choices: die fighting or yield." compset="CustomSpec" uniqueness="unique">
    <comment>Supercedes UA: Fighter Archetypes</comment>
    <usesource source="5eXGTECP"/>
    <tag group="abCategory" tag="FtrMarArch" name="Fighter Martial Archetype" abbrev="Fighter Martial Archetype"/>
    <tag group="SpecSource" tag="cHelpFtr" name="Fighter" abbrev="Fighter"/>
    <tag group="Helper" tag="Secondary" name="Secondary" abbrev="Secondary"/>
    <bootstrap thing="c5CFtrSBoP">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CFtrFigS">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CFtrEleC">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CFtrTirS">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CFtrRStr">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="c5CFtrStDe">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    </thing>
  <thing id="c5CMnkDruM" name="Way of the Drunken Master" description="The Way of the Drunken Master teaches students to fight and defend themselves using movements based on the jerky, unpredictablility of the drunkard. When fighting, a drunken master sways, appearing unsteady and provides a frustratingly hard to engage target. The drunken master&apos;s movements conceal carefully executed dances of blocks, parries, flurries of blows and retreats.\n\nDrunken masters enjoy playing the fool to bring joy  to the sad, or bring humility to the arrogant. WHen battle is joined, the drunken master is a masterful, albeit maddening foe." compset="CustomSpec" uniqueness="unique">
    <comment>Supercedes Trio of Subclasses</comment>
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpMnk" name="Monk" abbrev="Monk"/>
    <tag group="abCategory" tag="MnkMonTrad" name="Monk Monastic Tradition" abbrev="Monk Monastic Tradition"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="c5CMknBonP">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CMnkDruT">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CMnkTipS">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CMnkDruL">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="c5CMnkIntF">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    </thing>
  <thing id="c5CMnkWaKe" name="Way of the Kensei" description="The monks of the Way of the Kensei train endlessly with their weapons in an effort make them an extension of themselves. Originally founded on mastery of sword fighting, this tradition has expanded to include many different weapons.\n\nTo a kensei, a weapon becomes much the same as a brush does to a calligrapher. Whatever wepon the kensei has chosen, it is viewed as a tool to express the beauty and precision of the martial arts. This mastery makes a kensei a warrior without peers, intense in their devotion, practice and study of their chosen weapons." compset="CustomSpec" uniqueness="unique">
    <comment>Supercedes UA: Monk Traditions</comment>
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpMnk" name="Monk" abbrev="Monk"/>
    <tag group="abCategory" tag="MnkMonTrad" name="Monk Monastic Tradition" abbrev="Monk Monastic Tradition"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="c5CMnkPotK">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CMnkOneB">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CMnkKenW">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CMnkKenW">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="c5CMnkKenW">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="c5CMnkShaB">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="c5CMnkUneA">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    </thing>
  <thing id="c5CBrdMaIn" name="Mantle of Inspiration" description="Starting when you join the College of Glamour at 3rd level, you gain the ability to perform a song that imbues your allies with the vigor and speed of the fey. \n\nAs a bonus action, you can expend one use of your Bardic Inspiration to change your appearance to look more wonderful. When you do so, choose a number of creatures equal to your Charisma modifier (minimum of one) that are within 60 feet of you and can see you. Each of them gains 5 temporary hit points, and can immediately use their reaction to move up to their speed, without provoking opportunity attacks. \n\nThe number of temporary hit points increases to 8 at 5th level, 11 at 10th level, and 14 at 15th level." compset="ClSpecial">
    <fieldval field="abRange" value="60"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="abAction" tag="Bonus" name="Bonus" abbrev="Bon"/>
    <tag group="abDuration" tag="Instant"/>
    <eval phase="Render" priority="10000"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)

var thp as string
var cb as number

if (hero.child[aCHA].field[aBonus].value > 0 ) then
   cb = hero.child[aCHA].field[aBonus].value
else
   cb = 1
endif

if (#levelcount[Bard] >= 15 ) then
   thp = "14"
elseif (#levelcount[Bard] >= 10 ) then
   thp = "11"
elseif (#levelcount[Bard] >= 5 ) then
   thp = "8"
else
   thp = "5"
endif

field[listname].text = field[thingname].text & " (" & thp & " Temp. HP to " & cb & " allies)"]]></eval>
    </thing>
  <thing id="c5CBrdEntP" name="Enthralling Performance" description="You can charge your performance with seductive, fey magic, starting at 3rd level.\n\nBy performing for at least 1 minute, you can captivate a number of creatures equal to your Charisma modifier (minimum of one) that are within 60 feet of you and can see and hear you. These creatures must succeed on a Wisdom saving throw against your spell save DC or become charmed by you. While charmed in this way, the targets idolize you, speak glowing of you, and hinder those who oppose you - although they will avoid violence unless already inclined to fight for you. This effect wears off of the charmed creature after 1 hour, or if it takes damage, you attack it, or it witnesses you attacking or damaging any of its allies. \n\nIf a target succeeds on its saving throw, the target has no hint that you tried to charm it. \n\nOnce you use this ability, you can&apos;t use it again until you finish a short or long rest." compset="ClSpecial">
    <fieldval field="abDuration" value="1"/>
    <fieldval field="trkMax" value="1"/>
    <fieldval field="abRange" value="60"/>
    <tag group="abAction" tag="Minute" name="Minute" abbrev="Min"/>
    <tag group="abDuration" tag="Hour" name="Hour" abbrev="hr"/>
    <tag group="abSave" tag="aWIS" name="Wisdom" abbrev="Wis"/>
    <tag group="StandardDC" tag="aCHA" name="Charisma" abbrev="Charisma"/>
    <tag group="Usage" tag="ShortRest" name="/short rest" abbrev="/short rest"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="abRange" tag="Feet"/>
    <eval phase="Render" priority="10000"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)

var cb as number

if (hero.child[aCHA].field[aBonus].value > 0 ) then
   cb = hero.child[aCHA].field[aBonus].value
else
   cb = 1
endif

field[listname].text = field[thingname].text & " (" & cb & " creatures)"]]></eval>
    </thing>
  <thing id="c5CBrdManM" name="Mantle of Majesty" description="At 6th level, you gain the ability to cloak yourself in a fey magic that makes others want to serve you. As a bonus action, you cast {i}command{/i}, without expending a spell slot. You also take on an appearance of unearthly beauty for 1 minute or until your concentration ends. While enchanted with this appearance you may cast {i}command{/i} on each of your turns as a bonus action, again without expending a spell slot. \n\nAny creature charmed by you automatically fails its saving throw against the {i}command{/i} you cast with this ability. \n\nOnce you use this feature, you canâ€™t use it again until you finish a long rest." compset="ClSpecial">
    <fieldval field="abDuration" value="1"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abAction" tag="Bonus" name="Bonus" abbrev="Bon"/>
    <tag group="abDuration" tag="Minute" name="Minute" abbrev="min"/>
    <tag group="abRange" tag="Sight" name="Sight" abbrev="see"/>
    <tag group="Usage" tag="LongRest" name="/long rest" abbrev="/long rest"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="SpInfo" tag="spCommand"/>
    </thing>
  <thing id="c5CBrdUnbM" name="Unbreakable Majesty" description="At 14th level, you gain an otherworldly aspect to your appearance that makes you look more fierce and lovely.\n\nAs a bonus action, you can assume a majestic, magical presence for 1 minute or until you are incapacitated. For the duration of this presence, when a creature tries to attack you for the first time on a turn, the attack must make a Charisma saving throw against your spell save DC. On a success, it can attack you on this turn, but has disadvantage on any saving throw it makes against spells on your next turn. On a failed save, it can&apos;t attack you on this turn, choosing a new target or wasting its attack.\n\nOnce you use this presence, you can&apos;t do so again until you finish a short or long rest." compset="ClSpecial">
    <fieldval field="abDuration" value="1"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abDuration" tag="Minute" name="Minute" abbrev="min"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="Usage" tag="ShortRest" name="/short rest" abbrev="/short rest"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="abSave" tag="aWIS"/>
    <tag group="StandardDC" tag="aCHA"/>
    </thing>
  <thing id="c5CBrdBoSw" name="Bonus Proficiencies" description="When you join the College of Blades at 3rd level, you gain proficiency with medium armor and with scimitars.\n\nYou may also use any simple or martial melee weapon you are proficient with as a spellcasting focus for your bard spells." compset="ClSpecial">
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)
~ the proficiencies can be added via a link to the table
~ rather than the normal push/pull.
perform root.linkage[table].assign[ArmProfGrp.ArmorMed]
~ Give proficiency in Scimitar
perform root.linkage[table].assign[WepProf.wScimitar]]]></eval>
    </thing>
  <thing id="cfg5CBaFiS" name="Bard Fighting Style" description="This is a helper Thing for the College of Swords Bard Fighting Style" compset="Configure" uniqueness="unique">
    <fieldval field="cfgObject3" value="Fighting Styles"/>
    <fieldval field="cfgMax3" value="1"/>
    <fieldval field="cfgAllow3" value="thingid.cFtrDuelin | thingid.cFtrTwWeFi"/>
    </thing>
  <thing id="c5CBrdFigS" name="Fighting Style" description="At 3rd level, you adopt a style of fighting that suits you. Choose one of the following options. You can&apos;t take a Fighting Style option more than once, even if something in the game lets you choose again. This style must be chosen on the Bard Fighting Style tab. \n\n{b}{i}Dueling.{/i}{/b} When you are wielding a melee weapon in one hand and no other weapons, you gain a +2 bonus to damage rolls with that weapon.\n\n{b}{i}Two-Weapon Fighting.{/i}{/b} When you wield a weapon in both hands, you can add your ability modifier to the damage of the second attack." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Permanent"/>
    <bootstrap thing="cfg5CBaFiS"></bootstrap>
    </thing>
  <thing id="c5CBrdBlaF" name="Blade Flourish" description="At 3rd level, you learn to conduct impressive displays of skill with your weapons. \n\nWhenever you take the Attack action, on your turn, your walking speed increases by 10 feet until the end of the turn. If a weapon attack that you make as part of this action hits a creature, you can use one of the following Blade Flourish options (your choice). You can use only one Blade Flourish per turn. \n\n{b}{i}Defensive Flourish.{/i}{/b} You can expend one use of your Bardic Inspiration to cause your weapon to deal extra damage to the target struck. The damage equals the number rolled on the Bardic Inspiration die. You also add that same number to your AC until the start of your next turn.\n\n{b}{i}Slashing Flourish.{/i}{/b} You can expend one use of your Bardic Inspiration to cause the weapon to deal extra damage to the target and any other creature of your choice that you can see within 5 feet of you. The damage equals the number rolled on the Bardic Inspiration die.\n\n{b}{i}Mobile Flourish.{/i}{/b} You can expend one use of your Bardic Inspiration to cause the weapon to deal extra damage to the target equal to the number rolled on the Bardic Inspiration die. You can also push the target up to 5 feet away from you, plus a number of feet that you rolled on the die. You can also immediately use your reaction to move up to your walking speed to an unoccupied space within 5 feet of the target." compset="ClSpecial">
    <fieldval field="actName" value="Blade Flourish"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abAction" tag="Bonus" name="Bonus" abbrev="Bon"/>
    <tag group="User" tag="Tracker"/>
    <tag group="User" tag="Activation"/>
    <tag group="Usage" tag="UsPe5CTurn"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[~ Increase walking speed. 
if (field[abilActive].value <> 0) then
     hero.child[Speed].field[tSpeedMod].value += 10
endif]]></eval>
    </thing>
  <thing id="c5CBrdSwEA" name="Extra Attack" description="Beginning at 6th level, you can attack twice, instead of once, whenever you take the Attack action on your turn." compset="ClSpecial" summary="You can make an extra attack when you take the Attack action.">
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <eval phase="PostLevel" priority="600" name="Extra Attack"><![CDATA[
      doneif (tagis[Helper.ShowSpec] = 0)

      doneif (tagis[Helper.Disable] <> 0)

      ~If we're not already getting an extra attack, assign the extra attack tag
      doneif (hero.tagis[Hero.ExtraAtt] <> 0)
      perform hero.assign[Hero.ExtraAtt]]]>
      <after name="Fighter extra attacks"/>
      </eval>
    </thing>
  <thing id="c5CBrdMaFl" name="Master&apos;s Flourish" description="Starting at 14th level, you can roll a d6 and use it instead of expending a use of Bardic Inspiration (and associated die) when you use the Blade Flourish ability." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Instant"/>
    </thing>
  <thing id="c5CBrdPsBl" name="Psychic Blades" description="When you join the College of Whispers at 3rd level, you gain the ability to make your weapon attacks able to damage a creature&apos;s mind. \n\nWhen you hit a creature with a weapon attack, you can expend one use of your Bardic Inspiration to deal an extra 2d6 psychic damage to that target. You can do so only once per round on your turn.\n\nThe psychic damage increases to 3d6 at 5th level, 5d6 at 10th level, and 8d6 at 15th level." compset="ClSpecial" summary="Your attacks also damage the target&apos;s mind.">
    <fieldval field="abText" value="psychic damage"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="LvNamePar" tag="DieCntVal"/>
    <tag group="LvNamePar" tag="AppText"/>
    <tag group="LvNamePar" tag="DieSiz6"/>
    <tag group="abAction" tag="Free"/>
    <tag group="abRange" tag="AttackMel"/>
    <tag group="Usage" tag="Round"/>
    <tag group="User" tag="Tracker"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)

var BrdLv as number

BrdLv = #levelcount[Bard]

if (BrdLv >= 15) then
     field[abValue].value = 8
elseif (BrdLv >= 10) then
     field[abValue].value = 5
elseif (BrdLv >= 5) then
     field[abValue].value = 3
else
     field[abValue].value = 2
endif]]></eval>
    </thing>
  <thing id="c5CBrdWoTe" name="Words of Terror" description="At 3rd level, you learn to infuse innocent words with terror inducing magic. \n\nIf you speak to a humanoid alone for at least 1 minute, you can attempt to afflict it with paranoia. At the end of the conversation, the target must succeed on a Wisdom saving throw against your spell save DC or become frightened of you or a creature of your choice. This effect lasts for 1 hour, until the creature affected is attacked or damaged, or until it witnesses its allies being attacked or damaged. \n\nIf the target succeeds on the saving throw, it has no clue that you tried to frighten it. \n\nOnce you use this ability, you cannot do so again until you finish a short or long rest." compset="ClSpecial">
    <fieldval field="abDuration" value="1"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abDuration" tag="Hour"/>
    <tag group="abAction" tag="Minute"/>
    <tag group="abSave" tag="aWIS"/>
    <tag group="StandardDC" tag="aCHA"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abRange" tag="Hearing"/>
    <tag group="Usage" tag="ShortRest"/>
    </thing>
  <thing id="c5CBrdManW" name="Mantle of Whispers" description="At 6th level, you gain the ability to adopt a humanoid&apos;s persona. When a creature dies within 30  feet of you, you can magically capture its shadow using your reaction. You retain this shadow until you use it or you finish a long rest. \n\nYou can use the shadow as an action. When you do so, it vanishes, magically disguising you to look like the slain creature as if healthy and alive. The disguise lasts for 1 hour or until you end it as a bonus action.\n\nWhile in the disguise, you gain access to all information that the humanoid would share with a casual acquaintance, such as general background and personal details, but not including secrets. The information is enough that you can pass yourself off as the creature by drawing on its memories.\n\nAnother creature can defeat the disguise if it succeeds on a Wisdom (Insight) check contested by your Charisma (Deception) check. The shadow grands you a +5 bonus to the check. \n\nOnce you capture a shadow with this feature, you can&apos;t capture another one until you finish a short of long rest." compset="ClSpecial">
    <fieldval field="abDuration" value="1"/>
    <fieldval field="abRange" value="30"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="abAction" tag="Action" name="Action" abbrev="Act"/>
    <tag group="abAction" tag="Reaction" name="Reaction" abbrev="React"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abDuration" tag="Hour" name="Hour" abbrev="hr"/>
    <tag group="Usage" tag="ShortRest"/>
    </thing>
  <thing id="c5CBrdShaL" name="Shadow Lore" description="At 14th level, you gain the ability to weave dark  magic into your words and tap into a creatureâ€™s  deepest fears.  \n\n As an action, you magically whisper a phrase  that only one creature of your choice within 30 feet of you can hear. The target must make a  Wisdom saving throw against your spell save DC.  It automatically succeeds if it doesnâ€™t share a  language with you or if it canâ€™t hear you. On a  successful saving throw, your whisper sounds  like unintelligible mumbling and has no effect.  \n\n If the target fails its saving throw, it is charmed  by you for the next 8 hours or until you or your  allies attack or damage it. It interprets the  whispers as a description of its most mortifying  secret. While you gain no knowledge of this  secret, the target is convinced you know it.  \n\nWhile charmed in this way, the creature obeys  your commands for fear that you will reveal its  secret. It wonâ€™t risk its life for you or fight for you,  unless it was already inclined to do so. It grants  you favors and gifts it would offer to a close  friend.  \n\nWhen the effect ends, the creature has no  understanding of why it held you in such fear.  \n\nOnce you use this feature, you canâ€™t use it again  until you finish a long rest." compset="ClSpecial">
    <fieldval field="abDuration" value="8"/>
    <fieldval field="abRange" value="30"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abAction" tag="Action" name="Action" abbrev="Act"/>
    <tag group="abDuration" tag="Hour" name="Hour" abbrev="hr"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="abSave" tag="aWIS" name="Wisdom" abbrev="Wis"/>
    <tag group="StandardDC" tag="aCHA" name="Charisma" abbrev="Charisma"/>
    <tag group="Usage" tag="LongRest" name="/long rest" abbrev="/long rest"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    </thing>
  <thing id="c5CClrBPFo" name="Bonus Proficiencies" description="When you choose this domain at 1st level, you gain proficiency with heavy armor and smith&apos;s tools." compset="ClSpecial" summary="Proficient with heavy armor and smith&apos;s tools.">
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <bootstrap thing="gTooSmith">
      <autotag group="Proficienc" tag="Tool"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      doneif (tagis[Helper.ShowSpec] = 0)

      doneif (tagis[Helper.Disable] <> 0)

      perform root.linkage[table].assign[ArmProfGrp.ArmorHeavy]
      perform root.linkage[table].assign[ProfTool.gTooSmith]]]></eval>
    </thing>
  <thing id="c5CClrBlFo" name="Blessing of the Forge" description="At 1st level, you gain the ability to imbue magic into a weapon or armor. At the end of a long rest, touch one nonmagical object that is a suit of armor or a simple or martial weapon. Until the end of your next long rest, the object becomes a magic item, granting a +1 bonus to AC if itâ€™s armor or a +1 bonus to attack and damage rolls if itâ€™s a weapon.\n\nOnce you use this feature, you canâ€™t use it again until you finish a long rest.\n\n(Hint: Use an adjustment to AC or weapon to show this on the character sheet.)" compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="Usage" tag="LongRest" name="/long rest" abbrev="/long rest"/>
    </thing>
  <thing id="c5CClrArBl" name="Channel Divinity: Artisanâ€™s Blessing" description="Starting at 2nd level, you can use your Channel Divinity to create simple items.\n\nYou perform a ritual lasting 1 hour that creates a nonmagical item that must include some metal: a simple or martial weapon, ten pieces of ammunition, a set of tools, or any other metal object that might be found in the Equipment section of the PHB. The item is completed at the end of the hour, manifesting in an unoccupied space within 5 feet of you, the object must appear on a surface like the floor or a table.\n\nThe item you create can be worth no more than 100 gp. As part of this ritual, you must lay out metal, including coins, that have a value equal to the creation. The metal is consumed and transforms into the item at the end of the ritual, magically transforming into any nonmetal parts needed as well.\n\nThe ritual can creature a duplicate of any nonmagical item containing metal, provided you possess the original during the ritual." compset="ClSpecial" summary="Channel Divinity can create nonmagical objects.">
    <tag group="abCategory" tag="ClrChanDiv" name="Cleric Channel Divinity Ability" abbrev="Cleric Channel Divinity Ability"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="abDuration" tag="Permanent"/>
    <tag group="abAction" tag="Hour"/>
    </thing>
  <thing id="c5CClrSoFo" name="Soul of the Forge" description="Starting at 6th level, your mastery of the forge grants you a number of special abilities: \nâ€¢  You gain a +1 bonus to AC while you are wearing heavy armor.\nâ€¢  You gain resistance to fire damage." compset="ClSpecial">
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <eval phase="Final" priority="10000"><![CDATA[     doneif (tagis[Helper.Disable] <> 0)

     field[abValue].value = 0
     foreach pick in hero from BaseArmor where "( ArmorClass.Heavy ) & ( Helper.CurrArmor )"
          field[abValue].value = 1
     nexteach
     hero.childfound[ArmorClass].field[Bonus].value += field[abValue].value]]></eval>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[     doneif (tagis[Helper.Disable] <> 0)
     perform hero.assign[DamageRes.dtFire]]]></eval>
    </thing>
  <thing id="c5CClrDSFo" name="Divine Strike" description="At 8th level, you gain the ability to infuse your weapon strikes with divine energy. Once on each of your turns when you hit a creature with a weapon attack, you can cause the attack to deal an extra 1d8 fire damage (your choice) to the target. When you reach 14th level, the extra damage increases to 2d8." compset="ClSpecial">
    <fieldval field="abValue2" value="8"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="LvNamePar" tag="DieCntVal" name="&quot;field[abValue].value&quot; dY" abbrev="&quot;field[abValue].value&quot; dY"/>
    <tag group="LvNamePar" tag="DieSizVal2" name="Xd &quot;field[abValue2].value&quot;" abbrev="Xd &quot;field[abValue2].value&quot;"/>
    <tag group="LvNamePar" tag="SignAppVal" name="Sign appended value" abbrev="Sign appended value"/>
    <tag group="Usage" tag="Round" name="/round" abbrev="/round"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abDuration" tag="Instant" name="Instantaneous" abbrev="inst"/>
    <tag group="abRange" tag="Touch" name="Touch" abbrev="tch"/>
    <tag group="LvNamePar" tag="AppText" name="Append &quot;field[abText].text&quot;" abbrev="Append &quot;field[abText].text&quot;"/>
    <tag group="LvNamePar" tag="AppValue3" name="Append &quot;field[abValue3].value&quot;" abbrev="Append &quot;field[abValue3].value&quot;"/>
    <eval phase="PostLevel" priority="10000">field[abValue].value += field[xCount].value</eval>
    <eval phase="Render" priority="10000" index="2"><![CDATA[
      if (field[xIndex].value >= 2) then
        field[listname].text = field[thingname].text & " (2d8 fire damage)"
      else
        field[listname].text = field[thingname].text & " (1d8 fire damage)"
        endif]]></eval>
    </thing>
  <thing id="c5CClrSaFF" name="Saint of Forge and Fire" description="At 17th level, your affinity for fire and metal becomes more powerful due to your deityâ€™s blessing. You gain immunity to fire damage, and while youâ€™re wearing heavy armor, you have resistance to bludgeoning, piercing, and slashing damage from nonmagical attacks." compset="ClSpecial">
    <tag group="DamageRes" tag="NoMagBludg" name="nonmagical bludgeoning" abbrev="nonmagical bludgeoning"/>
    <tag group="DamageRes" tag="NoMagPierc" name="nonmagical piercing" abbrev="nonmagical piercing"/>
    <tag group="DamageRes" tag="NoMagSlash" name="nonmagical slashing" abbrev="nonmagical slashing"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="DamageRes" tag="dt5CBPSNon"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      doneif (tagis[Helper.ShowSpec] = 0)
      doneif (tagis[Helper.Disable] <> 0)

      perform hero.assign[DamageImm.dtFire]
      var res as number
      res = 0
     foreach pick in hero from BaseArmor where "( ArmorClass.Heavy ) & ( Helper.CurrArmor )"
      res = 1
     nexteach
     if ( res <> 0 ) then
       ~ perform forward[DamageRes.?]
       perform hero.assign[DamageRes.dt5CBPSNon]
     endif]]></eval>
    </thing>
  <thing id="c5CClrCiMo" name="Circle of Mortality" description="At 1st level, the line between life and death becomes malleable to you. When you would roll die to restore hit points to a creature with 0 hit points, you instead use the highest number possible for each die. \n\nAdditionally, you learn the {i}spare the dying{/i} cantrip, which doesn&apos;t count against the number of cleric cantrips you can know. This version of the cantrip has a range of 30 feet, and you can cast it as a bonus action." compset="ClSpecial">
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="abAction" tag="None"/>
    <bootstrap thing="spSparDyi">
      <autotag group="Helper" tag="Free"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      <autotag group="Helper" tag="Cantrip"/>
      <assignval field="sNameOver" value="Spare the Dying (30 ft., bonus action)"/>
      </bootstrap>
    </thing>
  <thing id="c5CClrEyGr" name="Eyes of the Grave" description="Starting at 1st level, you gain the ability to detect the presence of the undead occasionally. You can open your awareness to detect undead as an action. Until the end of your next turn, you know the location of any undead creature within 60 feet of you that isn&apos;t in total cover and isn&apos;t shielded from divination magic. This sense does not identify the creature or grant you any knowledge about the creature&apos;s abilities. \n\nYou can use this ability a number of times equal to your Wisdom modifier (minimum of 1). You regain any expended uses after you finish a long rest." compset="ClSpecial">
    <fieldval field="abRange" value="60"/>
    <fieldval field="abDuration" value="Until the end of your next turn."/>
    <tag group="ChargeAttr" tag="Minimum1"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <tag group="abAction" tag="Action"/>
    <tag group="Usage" tag="LongRest" name="/long rest" abbrev="/long rest"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrOnly"/>
    <tag group="ChargeCalc" tag="FinalMin1"/>
    </thing>
  <thing id="c5CClrPaGr" name="Channel Divinity: Path to the Grave" description="Starting at 2nd level, you can use your Channel Divinity to mark another creatureâ€™s life force for termination. \n\nAs an action, you choose one creature within 30 feet of you that you can see, cursing it until the end of your next turn. The next time you or an ally of yours hits the creature with an attack, the cursed creature is treated as if it had vulnerablility to all of that attack&apos;s damage and ending the curse." compset="ClSpecial">
    <fieldval field="abRange" value="30"/>
    <fieldval field="abDuration" value="Until the end of your next turn or struck (whichever comes first)"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abAction" tag="Action" name="Action" abbrev="Act"/>
    <tag group="abCategory" tag="ClrChanDiv" name="Cleric Channel Divinity Ability" abbrev="Cleric Channel Divinity Ability"/>
    </thing>
  <thing id="c5CClrDeDo" name="Sentinel at Deathâ€™s Door" description="Starting at 6th level, you gain the ability to impede deathâ€™s progress. As a reaction when you or an ally that you can see within 30 feet of you suffers a critical hit, you can turn that attack into a normal hit. Any effects triggered by a critical hit are canceled.\n\nYou may use this feature a number of times equal to your Wisdom modifer (minimum of one time). You regain expended uses after you finish a long rest." compset="ClSpecial">
    <fieldval field="abRange" value="30"/>
    <tag group="abAction" tag="Reaction" name="Reaction" abbrev="React"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="Usage" tag="LongRest"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrOnly"/>
    <tag group="ChargeCalc" tag="FinalMin1"/>
    <tag group="ChargeAttr" tag="Minimum1"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    </thing>
  <thing id="c5CClrKeSo" name="Keeper of Souls" description="At 17th level, you can tap some of the vitality from a departing soul and use it to heal the living. When an enemy you can see dies within 60 feet of you, you can heal yourself or one creature of choice within 60 feet of you a number of hit points equal to the Hit Dice of the dying enemy. You cannot use this feature if you are incapacitated. Once you use the feature, you can&apos;t do so again until the start of your next turn." compset="ClSpecial">
    <fieldval field="abRange" value="60"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abAction" tag="5CNORound" name="Once per round" abbrev="1/round"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="Usage" tag="UsPe5CTurn"/>
    <tag group="abDuration" tag="Instant"/>
    </thing>
  <thing id="c5CDrdBaSu" name="Balm of the Summer Court" description="At 2nd level, you become a font of energy that offers solace from injuries. You have a pool of fey energy, represented by a number d6s equal to your druid level.\n\nAs a bonus action, you can choose a creature that you can see within 120 feet of you and spend a number of these dice equal to half your druid level or less. Roll the spent dice and add them together. The target creature regains hit points equal to that total. In addition, the target gains 1 temporary hit point per die that was spent. \n\nYou regain all dice expended when you finish a long rest." compset="ClSpecial">
    <fieldval field="abRange" value="120"/>
    <fieldval field="abValue" value="1"/>
    <fieldval field="abValue2" value="6"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="Usage" tag="LongRest" name="/long rest" abbrev="/long rest"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="abAction" tag="Bonus" name="Bonus" abbrev="Bon"/>
    <tag group="abDuration" tag="Instant" name="Instantaneous" abbrev="inst"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)

field[abValue].value = #levelcount[Druid]

field[trkMax].value = #levelcount[Druid]]]></eval>
    </thing>
  <thing id="c5CDrdHeMS" name="Hearth of Moonlight and Shadow" description="At 6th level, whever you are can be called home. During a short or long rest, you can invoke a shadowy power to help guard your refuge. At the start of the rest, you touch a point in space, and an invisible, 30-foot-radius sphere of magical protection appears. The sphere cannot penetrate total cover. \n\nWhile inside the sphere, you and your allies are granted a +5 bonus to Dexterity (Stealth) and Wisdom (Perception) checks, and any light from open flames isn&apos;t visible from outside the sphere. \n\nThe sphere vanishes at the end of the rest or when you leave it." compset="ClSpecial">
    <fieldval field="abDuration" value="for the duration of your rest or when you leave the area"/>
    <tag group="abRange" tag="Touch"/>
    <tag group="abAction" tag="ShortRest"/>
    </thing>
  <thing id="c5CDrdHiPa" name="Hidden Paths" description="Beginning at 10th level, you can use the hidden fey pathways that transverse vast distances in the blink of an eye. As a bonus action on your turn, you can teleport up to 60 feet to an unoccupied space that you can see. Alternatively, you can use your action to teleport one willing creature you touch up to 30 feet in the same manner. \n\nYou can use this ability a number of times equal to your Wisdom modifier (minimum 1) and you regain all uses when you finish a long rest." compset="ClSpecial">
    <fieldval field="abRange" value="30 or 60 feet"/>
    <tag group="abAction" tag="Action" name="Action" abbrev="Act"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrOnly"/>
    <tag group="ChargeCalc" tag="FinalMin1"/>
    <tag group="ChargeAttr" tag="Minimum1"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <tag group="Usage" tag="LongRest"/>
    </thing>
  <thing id="c5CDrdWaDr" name="Walker in Dreams" description="At 14th level, you are granted the ability to travel mentally or physically through the dreamlands.\n\nAt the end of a short rest, you can cast one of the following spells without spending a spell slot or needing material components: {i}dream{/i} (with you as the messenger), {i}scrying{/i}, or {i}teleportation circle{/i}.\n\nThis use of {i}teleportation circle{/i} can only open a portal to the last location where you finished a long rest on your current plane of existence, rather than to a permanent teleportation circle. If you haven&apos;t taken a long rest on the current plane, thespell fails but isn&apos;t wasted.\n\nOnce you use this ability, you cannot do so again until you finish a long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="SpInfo" tag="spDream"/>
    <tag group="SpInfo" tag="spScrying"/>
    <tag group="SpInfo" tag="spTeleCirc"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abAction" tag="ShortRest"/>
    <tag group="Usage" tag="LongRest"/>
    </thing>
  <thing id="c5CDrdSpWo" name="Speech of the Woods" description="Upon reaching 2nd level, you gain the power to talk with beasts and most fey creatures.\n\nYou learn to speak, read, and write Sylvan. Additionally beasts can understand your speech, and you gain the power to decipher their noises and motions. Most creatures lack the intelligence to convey or understand advanced concepts, but a friendy beast could relay what it has seen and or heard recently. This does not grant you any special kinship with beasts although you can use this ability with gifts to curry favor to help with relations." compset="ClSpecial">
    <bootstrap thing="lSylvan"></bootstrap>
    </thing>
  <thing id="c5CDrdSpiT" name="Spirit Totem" description="At 2nd level, yuo can influence the world around you by calling forth nature spirits. As a bonus action, you can magically summon an incorporeal spirit to a point you can see with 60 feet of you. The spirit emanates a 30-foot radius aura around that point. The spirit does not count as a creature or object, though it does appear as the creature selected for the totem (see below). \n\nAs a bonus action on each of your turns, you can move the spirit up to 60 feet to a point you can see. \n\nThe spirit persists for 1 minute or until you are incapacitated. Once you use this ability, you can&apos;t do so again until you finish a short of long rest. \n\nThe effect of the spirit&apos;s aura depends on the type of spirit you summon from the options below:\n\n{b}{i}Bear Spirit.{/i}{/b} Each creature of your choice in the spirit&apos;s aura gains temporary hit points equal to your druid level + 5. In addition, your allies in the aura gain advantage on saving throws and ability checks relying on Strength.\n\n{b}{i}Hawk Spirit.{/i}{/b} When any creature makes an attack roll against a target inside the spirit&apos;s aura, you may use your reaction to grant advantage to that roll. Additionally, you and your allies have advantage on Wisdom (Perception) checks while in the aura. \n\n{b}{i}Unicorn Spirit.{/i}{/b} You and your allies are granted advantage on all ability checks made to detect creatures in the spirit&apos;s aura. If you cast a spell using a spell slot that restores hit points to any creature inside or outside of the aura, each creature of your choice inside the aura also regains hit points equal to your druid level." compset="ClSpecial">
    <fieldval field="abDuration" value="1"/>
    <fieldval field="abRange" value="60"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abDuration" tag="Minute" name="Minute" abbrev="min"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="Usage" tag="ShortRest" name="/short rest" abbrev="/short rest"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="abAction" tag="Bonus" name="Bonus" abbrev="Bon"/>
    </thing>
  <thing id="c5CDrdGuaS" name="Guardian Spirit" description="At 10th level, your Spirit Totem safeguards the beasts and fey that you call forth with your magic. When a beast or fey that you summoned or created with a spell ends its turn in your Spirit Totem aura, that creature regains a number of hit points equal to half your druid level." compset="ClSpecial">
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    </thing>
  <thing id="c5CDrdMigS" name="Mighty Summoner" description="At 6th level, you gain the ability to conjure forth powerful beasts and fey. Any beast or fey summoned or created by your spells gains two benefits. \n\n* The creature has 2 extra hit poitns per Hit Die. \n* The damage from its natural weapons is  considered magical for the purpose of overcoming immunity and resistance to nonmagical attacks and damage." compset="ClSpecial">
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    </thing>
  <thing id="c5CDrdFaiS" name="Faithful Summons" description="At 14th level, when you at your most defenseless, the nature spirits commune with you. If you are reduced to 0 hit points ore are incapacitated against your will, you can immediately gain the benefits of {i}conjure animals{/i} cast with a 9th-level spell slot. It summons four beasts of CR 2 or lower that you choose. The beasts appear within 20 feet of you and if they receive no commnds from you, they protect you from harm and attack your foes. The spell lasts for 1 hour, requires no concentration to maintanin, and you may dismiss it freely (no action required). \n\nOnce you use this feature, you canâ€™t use it again until you finish a long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="Usage" tag="LongRest" name="/long rest" abbrev="/long rest"/>
    <tag group="SpInfo" tag="spConjAnim"/>
    </thing>
  <thing id="c5CFtrArAL" name="Arcane Archer&apos;s Lore" description="At 3rd level, you learn some of the magical theories or secrets of nature. You choose to gain proficiency in either the Arcana or Nature skill, and you learn either the {i}prestidigitation{/i} or {i}druidcraft{/i} cantrip." compset="ClSpecial">
    <fieldval field="usrCandid1" value="component.BaseSkill &amp; (Reference.skArcana | Reference.skNature)"/>
    <arrayval field="usrArray" index="0" value="Prestidigitation"/>
    <arrayval field="usrArray" index="1" value="Druidcraft"/>
    <bootstrap thing="spPrestidi">
      <containerreq phase="First" priority="500">fieldval:usrIndex = 0</containerreq>
      <autotag group="Helper" tag="RaceSpell"/>
      <autotag group="Usage" tag="AtWill"/>
      <autotag group="Helper" tag="Cantrip"/>
      </bootstrap>
    <bootstrap thing="spDruidcra">
      <containerreq phase="First" priority="500">fieldval:usrIndex = 1</containerreq>
      <autotag group="Usage" tag="AtWill"/>
      <autotag group="Helper" tag="RaceSpell"/>
      <autotag group="Helper" tag="Cantrip"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[      doneif (tagis[Helper.ShowSpec] = 0)
      doneif (tagis[Helper.Disable] <> 0)
      if (field[usrChosen1].ischosen <> 0) then
        perform field[usrChosen1].chosen.pulltags[ProfSkill.?]
        endif
      perform forward[ProfSkill.?]]]>
      <before name="Calc skProfBon"/>
      </eval>
    </thing>
  <thing id="c5CFtrArSh" name="Arcane Shot" description="Starting at 3rd level, you learn to enchant your shots with magical effects. When you gain this feature you learn two Arcane Shot options of your choice. \n\nOnce per turn when you fire a magic arrow from a shortbow or longbow as part of the Attack option, you can apply one of the Arcane Shot options you chose to that arrow. You decide to use the option when the arrow hits a creature, unless the option doesn&apos;t involve an attack roll. You have two uses of this ability, you regain expended uses when you finish a short or long rest. \n\nYou gain an additional Arcane Shot option at 7th, 10th, 15th, and 18th level. Each option also improves when you become an 18th level fighter.\n\nEach Arcane Shot option is associated with a particular school of magic. If an option requires a saving throw, your Arcane Shot save DC equals 8 + your proficiency bonus + your Intelligence modifier." compset="ClSpecial">
    <fieldval field="trkMax" value="2"/>
    <tag group="abRange" tag="AttackRan"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="StandardDC" tag="aINT"/>
    <tag group="abSave" tag="Varies"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abAction" tag="Free"/>
    <tag group="Usage" tag="ShortRest"/>
    </thing>
  <thing id="c5CFtrBanA" name="Banishing Arrow" description="Using abjuration magic, you attempt to banish your target to a harmless location in the Feywild. The creature hit must succeed on a Charisma saving throw or be banished. While banished, the target&apos;s speed is 0, and it is incapacitated. At the end of its next turn, the target reappears in the space it previously vacated or in the nearest unoccupied space if that space has become occupied. \n\nAfter you reach 18th level, the target also takes 2d6 force damage when the arrow hits it." compset="CustomSpec" uniqueness="unique">
    <fieldval field="abDuration" value="1"/>
    <usesource source="5eXGTECP" parent="p5eBooks" name="Xanathar&apos;s Guide To Everything"/>
    <tag group="abCategory" tag="FtrAAShots" name="Fighter Arcane Archer Arcane Shots" abbrev="Fighter Arcane Archer Arcane Shots"/>
    <tag group="SpecSource" tag="cHelpFtr" name="Fighter" abbrev="Fighter"/>
    <tag group="abRange" tag="AttackRan"/>
    <tag group="abAction" tag="None"/>
    <tag group="abDuration" tag="Round"/>
    <tag group="Helper" tag="Quaternary" name="Quaternary" abbrev="Quaternary"/>
    <tag group="abSave" tag="aCHA"/>
    <tag group="StandardDC" tag="aINT"/>
    <eval phase="Render" priority="10000"><![CDATA[doneif (#levelcount[Fighter] < 18)

field[livename].text &= " (2d6 force)"]]></eval>
    </thing>
  <thing id="c5CFtrBegA" name="Beguiling Arrow" description="Using enchantment magic, your arrow temporarily beguiles its target. The creature hit takes an extra 2d6 psychic damage, and you choose one of your allies within 30 feet of the target. The target must succeed on Wisdom saving throw, or it is charmed by the chosen ally until the start of your next turn. The effect ends early if the chosen ally damages the target, attacks it, or forces it to make a saving throw. \n\nAfter you reach 18th level of fighter, the psychic damage increases to 4d6." compset="CustomSpec" uniqueness="unique">
    <fieldval field="abDuration" value="Until the start of your next turn"/>
    <fieldval field="abText" value="psychic"/>
    <fieldval field="abValue" value="2"/>
    <fieldval field="abValue2" value="6"/>
    <usesource source="5eXGTECP" parent="p5eBooks" name="Xanathar&apos;s Guide To Everything"/>
    <tag group="abRange" tag="AttackRan" name="Ranged Attack" abbrev="ran"/>
    <tag group="Helper" tag="Quaternary" name="Quaternary" abbrev="Quaternary"/>
    <tag group="abCategory" tag="FtrAAShots" name="Fighter Arcane Archer Arcane Shots" abbrev="Fighter Arcane Archer Arcane Shots"/>
    <tag group="abSave" tag="aWIS"/>
    <tag group="SpecSource" tag="cHelpFtr" name="Fighter" abbrev="Fighter"/>
    <tag group="StandardDC" tag="aINT" name="Intelligence" abbrev="Intelligence"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="LvNamePar" tag="DieCntVal"/>
    <tag group="LvNamePar" tag="AppText"/>
    <tag group="LvNamePar" tag="DieSizVal2"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (#levelcount[Fighter] < 18)

field[abValue].value += 2]]></eval>
    </thing>
  <thing id="c5CFtrBurA" name="Bursting Arrow" description="Using evocation magic, you enchant your arrow to do force damage. The energy of the attack detonates immediately after hitting the creature. The target and all other creatures within 10 feet of it take 2d6 force damage each. \n\nAfter you reach 18th level of fighter, the force damage increases to 4d6." compset="CustomSpec" uniqueness="unique">
    <fieldval field="abValue" value="2"/>
    <fieldval field="abValue2" value="6"/>
    <fieldval field="abText" value="force"/>
    <usesource source="5eXGTECP" parent="p5eBooks" name="Xanathar&apos;s Guide To Everything"/>
    <tag group="SpecSource" tag="cHelpFtr" name="Fighter" abbrev="Fighter"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="FtrAAShots" name="Fighter Arcane Archer Arcane Shots" abbrev="Fighter Arcane Archer Arcane Shots"/>
    <tag group="abRange" tag="AttackRan" name="Ranged Attack" abbrev="ran"/>
    <tag group="Helper" tag="Quaternary" name="Quaternary" abbrev="Quaternary"/>
    <tag group="LvNamePar" tag="AppText" name="Append &quot;field[abText].text&quot;" abbrev="Append &quot;field[abText].text&quot;"/>
    <tag group="LvNamePar" tag="DieCntVal" name="&quot;field[abValue].value&quot; dY" abbrev="&quot;field[abValue].value&quot; dY"/>
    <tag group="LvNamePar" tag="DieSizVal2" name="Xd &quot;field[abValue2].value&quot;" abbrev="Xd &quot;field[abValue2].value&quot;"/>
    <tag group="abDuration" tag="Instant"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (#levelcount[Fighter] < 18)

field[abValue].value += 2]]></eval>
    </thing>
  <thing id="c5CFtrEnfA" name="Enfeebling Arrow" description="Using necromantic magic, you enchant your arrow to do weaken your foe. The creature hit by the arrow takes an extra 2d6 necrotic damage. It must also succeed on a Constitution saving throw, or any damage dealt by its weapons attacks is halved until the start of your next turn. \n\nAfter you reach 18th level of fighter, the necrotic damage increases to 4d6." compset="CustomSpec" uniqueness="unique">
    <fieldval field="abValue" value="2"/>
    <fieldval field="abValue2" value="6"/>
    <fieldval field="abText" value="necrotic"/>
    <fieldval field="abDuration" value="Until the start of your next turn"/>
    <usesource source="5eXGTECP" parent="p5eBooks" name="Xanathar&apos;s Guide To Everything"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="FtrAAShots" name="Fighter Arcane Archer Arcane Shots" abbrev="Fighter Arcane Archer Arcane Shots"/>
    <tag group="abRange" tag="AttackRan" name="Ranged Attack" abbrev="ran"/>
    <tag group="Helper" tag="Quaternary" name="Quaternary" abbrev="Quaternary"/>
    <tag group="LvNamePar" tag="AppText" name="Append &quot;field[abText].text&quot;" abbrev="Append &quot;field[abText].text&quot;"/>
    <tag group="LvNamePar" tag="DieCntVal" name="&quot;field[abValue].value&quot; dY" abbrev="&quot;field[abValue].value&quot; dY"/>
    <tag group="SpecSource" tag="cHelpFtr" name="Fighter" abbrev="Fighter"/>
    <tag group="LvNamePar" tag="DieSizVal2" name="Xd &quot;field[abValue2].value&quot;" abbrev="Xd &quot;field[abValue2].value&quot;"/>
    <tag group="abSave" tag="aCON"/>
    <tag group="StandardDC" tag="aINT"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (#levelcount[Fighter] < 18)

field[abValue].value += 2]]></eval>
    </thing>
  <thing id="c5CFtrGraA" name="Grasping Arrow" description="Using conjuration magic, you enchant your arrow to entangle your foe with grasping, poisonous brambles. The creature strucks takes an additional 2d6 poison damage, its speed is reduced by 10 feet, and it takes 2d6 slashing damage the first time on each turn it moves 1 foot or more without teleporting. The target or any creature that can reach it can use its action to remove the grasping brambles with a successful Strength (Athletics) check against your Arcane Shot save DC. Otherwise, the brables last for 1 minute or until you use this Arcane Shot option again. \n\nAfter you reach 18th level of fighter, the poison and slashing damage increase to 4d6 each" compset="CustomSpec" uniqueness="unique">
    <fieldval field="abDuration" value="Until the start of your next turn"/>
    <fieldval field="abValue" value="2"/>
    <fieldval field="abValue2" value="6"/>
    <fieldval field="abText" value="poison*"/>
    <usesource source="5eXGTECP" parent="p5eBooks" name="Xanathar&apos;s Guide To Everything"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="FtrAAShots" name="Fighter Arcane Archer Arcane Shots" abbrev="Fighter Arcane Archer Arcane Shots"/>
    <tag group="abRange" tag="AttackRan" name="Ranged Attack" abbrev="ran"/>
    <tag group="Helper" tag="Quaternary" name="Quaternary" abbrev="Quaternary"/>
    <tag group="LvNamePar" tag="AppText" name="Append &quot;field[abText].text&quot;" abbrev="Append &quot;field[abText].text&quot;"/>
    <tag group="LvNamePar" tag="DieCntVal" name="&quot;field[abValue].value&quot; dY" abbrev="&quot;field[abValue].value&quot; dY"/>
    <tag group="LvNamePar" tag="DieSizVal2" name="Xd &quot;field[abValue2].value&quot;" abbrev="Xd &quot;field[abValue2].value&quot;"/>
    <tag group="SpecSource" tag="cHelpFtr" name="Fighter" abbrev="Fighter"/>
    <tag group="StandardDC" tag="aINT"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (#levelcount[Fighter] < 18)

field[abValue].value += 2]]></eval>
    </thing>
  <thing id="c5CFtrSeeA" name="Seeking Arrow" description="Using divination magic, you give your arrow the ability to seek out its target. When you use this option, you do not make an attack roll for the attack, instead choosing one creature you have seen in the past minute as a focus. The arrow flies toward that creature, turning around corners and ignoring half and three-quarters cover. If the target is within the weapon&apos;s range and there is an opening large enough for the arrow to travel to the target, the target must make a Dexterity saving throw. The arrow disappears if it cannot reach a target after travelling as far as it can. If the target fails its saving throw, it takes damage as if it were hit by the arrow, plus an additional 1d6 force damage, and you learn the target&apos;s current location. On a successful save, the target takes half as much damage, and its location remains unknown. \n\nAfter you reach 18th level of fighter, the force damage increases to 2d6." compset="CustomSpec" uniqueness="unique">
    <fieldval field="abValue" value="1"/>
    <fieldval field="abValue2" value="6"/>
    <fieldval field="abText" value="force"/>
    <usesource source="5eXGTECP" parent="p5eBooks" name="Xanathar&apos;s Guide To Everything"/>
    <tag group="SpecSource" tag="cHelpFtr" name="Fighter" abbrev="Fighter"/>
    <tag group="StandardDC" tag="aINT" name="Intelligence" abbrev="Intelligence"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="FtrAAShots" name="Fighter Arcane Archer Arcane Shots" abbrev="Fighter Arcane Archer Arcane Shots"/>
    <tag group="abRange" tag="AttackRan" name="Ranged Attack" abbrev="ran"/>
    <tag group="Helper" tag="Quaternary" name="Quaternary" abbrev="Quaternary"/>
    <tag group="LvNamePar" tag="AppText" name="Append &quot;field[abText].text&quot;" abbrev="Append &quot;field[abText].text&quot;"/>
    <tag group="LvNamePar" tag="DieCntVal" name="&quot;field[abValue].value&quot; dY" abbrev="&quot;field[abValue].value&quot; dY"/>
    <tag group="LvNamePar" tag="DieSizVal2" name="Xd &quot;field[abValue2].value&quot;" abbrev="Xd &quot;field[abValue2].value&quot;"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="abSave" tag="aDEX"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (#levelcount[Fighter] < 18)

field[abValue].value += 1]]></eval>
    </thing>
  <thing id="c5CFtrShaA" name="Shadow Arrow" description="Using illusion magic, your arrow obscures your foes vision with shadows. A creature hit by the arrow takes an extra 2d6 psychic damage, and it must succeed on a Wisdom saving throw or become unable to see farther than 5 feet until the start of your next turn. \n\nAfter you reach 18th level of fighter, the psychic damage increases to 4d6." compset="CustomSpec" uniqueness="unique">
    <fieldval field="abDuration" value="Until the start of your next turn"/>
    <fieldval field="abValue" value="2"/>
    <fieldval field="abValue2" value="6"/>
    <fieldval field="abText" value="psychic"/>
    <usesource source="5eXGTECP" parent="p5eBooks" name="Xanathar&apos;s Guide To Everything"/>
    <tag group="StandardDC" tag="aINT" name="Intelligence" abbrev="Intelligence"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="FtrAAShots" name="Fighter Arcane Archer Arcane Shots" abbrev="Fighter Arcane Archer Arcane Shots"/>
    <tag group="abRange" tag="AttackRan" name="Ranged Attack" abbrev="ran"/>
    <tag group="abSave" tag="aWIS" name="Wisdom" abbrev="Wis"/>
    <tag group="Helper" tag="Quaternary" name="Quaternary" abbrev="Quaternary"/>
    <tag group="LvNamePar" tag="AppText" name="Append &quot;field[abText].text&quot;" abbrev="Append &quot;field[abText].text&quot;"/>
    <tag group="LvNamePar" tag="DieCntVal" name="&quot;field[abValue].value&quot; dY" abbrev="&quot;field[abValue].value&quot; dY"/>
    <tag group="LvNamePar" tag="DieSizVal2" name="Xd &quot;field[abValue2].value&quot;" abbrev="Xd &quot;field[abValue2].value&quot;"/>
    <tag group="SpecSource" tag="cHelpFtr" name="Fighter" abbrev="Fighter"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (#levelcount[Fighter] < 18)

field[abValue].value += 2]]></eval>
    </thing>
  <thing id="c5CFtrMagA" name="Magic Arrow" description="At 7th level, you gain the ability to make your arrows magical. Whenever you fire a nonmagical arrow from a shortbow or longbow, you can make it magical. The arrow counts as magical for the purpose of overcoming immunity and resistance to nonmagical attacks and damage. The magic fades from the arrow immediately after it hits or misses the target." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Touch"/>
    <tag group="abDuration" tag="Attack"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] = 1)
doneif (field[abilActive].value = 0)

foreach pick in hero from BaseWep where " wProperty.Ammunition & ! wProperty.Loading "
        eachpick.field[wDamExtra].text = "+" & field[abValue].value & "d6 Force"
      nexteach]]></eval>
    </thing>
  <thing id="c5CFtrCurS" name="Curving Shot" description="Starting at 7th level, you learn ho to redirect errant arrows. When you make an attack roll with a magic arrow and miss, you can use a bonus action to reroll the attack roll against a different target. This target must be within 60 feet of the original target." compset="ClSpecial">
    <tag group="abAction" tag="Bonus"/>
    <tag group="abRange" tag="AttackRan"/>
    <tag group="abDuration" tag="Instant"/>
    </thing>
  <thing id="c5CFtrEveS" name="Ever-Ready Shot" description="Starting at 15th level, your Arcane Shots regenerate expended uses whenever battle starts. If you roll initiative and have no uses of Arcane Shot remaining, you regain one use of it." compset="ClSpecial">
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="abAction" tag="None"/>
    </thing>
  <thing id="c5CFtrCBPr" name="Bonus Proficiencies" description="When you choose this archetype at 3rd level, you gain proficiency in one of the following skills of your choice: Animal Handling, History, Insight, Performance, or Persuasion. Aternatively, you learn one language of your choice." compset="ClSpecial">
    <fieldval field="usrCandid1" value="(component.BaseSkill &amp; ( Reference.skAnimHand | Reference.skHistory | Reference.skInsight | Reference.skPerform | Reference.skPersuas )) | (component.BaseLang &amp; Language.l5Cchooser )"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      doneif (tagis[Helper.ShowSpec] = 0)
      doneif (tagis[Helper.Disable] <> 0)

      if (field[usrChosen1].ischosen <> 0) then
        if (field[usrChosen1].chosen.tagis[Language.l5Cchooser] <> 0) then
        field[abValue].value += 1
        else
        perform field[usrChosen1].chosen.pulltags[ProfSkill.?]
        endif
      endif

      perform forward[ProfSkill.?]

      doneif (isroot = 0)

      doneif (root.islinkage[table] = 0)
      doneif (field[abValue].value = 0)

      perform root.linkage[table].setfocus

      ~ Set our bonus languages in the first empty table we find
      if (focus.field[cLangMax].value = 0) then
        focus.field[cLangMax].value += field[abValue].value
        focus.field[cLaCandExp].text = "component.BaseLang"
      elseif (focus.field[cLangMax2].value = 0) then
        focus.field[cLangMax2].value += field[abValue].value
        focus.field[cLaCandEx2].text = "component.BaseLang"
      elseif (focus.field[cLangMax3].value = 0) then
        focus.field[cLangMax3].value += field[abValue].value
        focus.field[cLaCandEx3].text = "component.BaseLang"
        endif]]>
      <before name="Calc skProfBon"/>
      </eval>
    </thing>
  <thing id="c5CFtrBorS" name="Born to the Saddle" description="Starting at 3rd level, mounting or dismounting a creature costs you only 5 feet of movement, rather than half your speed. In addition, you have advantage on saving throws made to avoid falling off your mount. If you fall off it, you can automatically land on your feet if you arenâ€™t incapacitated and you fall less than 10 feet." compset="ClSpecial">
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="abAction" tag="None"/>
    </thing>
  <thing id="c5CFtrUnwM" name="Unwavering Mark" description="At 3rd level, you can punish your foes and foil their attacks when they are directed at your allies. When you hit a creature with a melee weapon attack, you can mark this creature until the end of your next turn. This effect ends early if you die, are incapacitated, or someone else markes the creature. \n\nWhile the marked creature is within 5 feet of you, it has disadvantage on any attack roll that doesn&apos;t target you. \n\nAdditionally, if the marked creature deals damage to anyone other than you, you can make a special melee attack as a bonus action on your next turn against the creature. You have advantage on the attack roll, and the weapon deals extra damage equal to half your fighter level if it hits. \n\nRegarless of thenumber of creatures you have marked, you can make this speciall attack a number of times equal to your Strength modifier (minimum of 1), and you regain expended uses when you finish a long rest." compset="ClSpecial">
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrOnly"/>
    <tag group="ChargeCalc" tag="FinalMin1"/>
    <tag group="ChargeAttr" tag="Minimum1"/>
    <tag group="ChargeAttr" tag="aSTR"/>
    <tag group="Usage" tag="LongRest"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="abAction" tag="Bonus"/>
    </thing>
  <thing id="c5CFtrWaMa" name="Warding Maneuver" description="Starting at 7th level, you become able to fend off strikes directed at you, your mount, or other nearby creatures. If you or a creature within 5 feet of you that you can see is hit by an attack, as a reaction you can roll 1d8 as long as you have a melee weapon or shield equipped. Roll the die and add the number rolled as a bonus to the target creature&apos;s AC against that attack. If the attack still hits, the target is granted resistance against that attack&apos;s damage. \n\nYou can use this feature a number of times equal to your Constitution modifier (minimum of 1), and when you finish a long rest you regain any expended uses." compset="ClSpecial">
    <fieldval field="abRange" value="5"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abAction" tag="Reaction"/>
    <tag group="abDuration" tag="Attack"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrOnly"/>
    <tag group="ChargeCalc" tag="FinalMin1"/>
    <tag group="ChargeAttr" tag="aCON"/>
    <tag group="ChargeAttr" tag="Minimum1"/>
    <tag group="Usage" tag="LongRest"/>
    </thing>
  <thing id="c5CFtrHolL" name="Hold the Line" description="At 10th level, you master the ability to harass and slow your enemies. Creatures provoke opportunity attacks from you when they move 5 feet or more while within your reach. If you hit a creature with an opportunity attack generated by this feature, the target&apos;s speed is reduced to 0 until the end of the current turn." compset="ClSpecial">
    <tag group="abAction" tag="Reaction" name="Reaction" abbrev="React"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="AttackMel"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] = 1)
doneif (field[abilActive].value = 0)

foreach pick in hero from BaseWep where "(wCategory.Melee)"
        eachpick.field[dmmBonus].value += #levelcount[Fighter] / 2
      nexteach]]></eval>
    </thing>
  <thing id="c5CFtrFerC" name="Ferocious Charger" description="Starting at 15th level, you can run down enemies whether you&apos;re mounted or not. If you move at least 10 feet in a straight line before attacking a creature and you hit it with the attack, that creature must succeed on a Strength saving throw or be knocked prone. The DC for this save is 8 + your proficiency bonus + your Strength modifier. You can use this feature only once on each of your turns." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="AttackMel"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="abSave" tag="aSTR"/>
    <tag group="StandardDC" tag="aSTR"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abAction" tag="None"/>
    <tag group="Usage" tag="UsPe5CTurn"/>
    </thing>
  <thing id="c5CFtrVigD" name="Vigilant Defender" description="Beginning at 18th lebel, you become ever vigilant to danger. In combat, you gain a special reaction that you can take once on every creature&apos;s turn except your own. You can use this special reaction to make an opportunity attack only, and you can&apos;t use it on the same turn as you make a normal reaction." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="AttackMel"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="abAction" tag="None"/>
    <tag group="Usage" tag="UsPe5CTurn"/>
    <tag group="User" tag="Tracker"/>
    </thing>
  <thing id="c5CFtrSBoP" name="Bonus Proficiencies" description="When you choose this archetype at 3rd level, you gain proficiency in one of the following skills of your choice: History, Insight, Performance, or Persuasion. Aternatively, you learn one language of your choice." compset="ClSpecial">
    <fieldval field="usrCandid1" value="(component.BaseSkill &amp; ( Reference.skHistory | Reference.skInsight | Reference.skPerform | Reference.skPersuas )) | (component.BaseLang &amp; Language.l5Cchooser )"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      doneif (tagis[Helper.ShowSpec] = 0)
      doneif (tagis[Helper.Disable] <> 0)

      if (field[usrChosen1].ischosen <> 0) then
        if (field[usrChosen1].chosen.tagis[Language.l5Cchooser] <> 0) then
        field[abValue].value += 1
        else
        perform field[usrChosen1].chosen.pulltags[ProfSkill.?]
        endif
      endif

      perform forward[ProfSkill.?]

      doneif (isroot = 0)

      doneif (root.islinkage[table] = 0)
      doneif (field[abValue].value = 0)

      perform root.linkage[table].setfocus

      ~ Set our bonus languages in the first empty table we find
      if (focus.field[cLangMax].value = 0) then
        focus.field[cLangMax].value += field[abValue].value
        focus.field[cLaCandExp].text = "component.BaseLang"
      elseif (focus.field[cLangMax2].value = 0) then
        focus.field[cLangMax2].value += field[abValue].value
        focus.field[cLaCandEx2].text = "component.BaseLang"
      elseif (focus.field[cLangMax3].value = 0) then
        focus.field[cLangMax3].value += field[abValue].value
        focus.field[cLaCandEx3].text = "component.BaseLang"
        endif]]>
      <before name="Calc skProfBon"/>
      </eval>
    </thing>
  <thing id="c5CFtrFigS" name="Fighting Spirit" description="Beginning at 3rd level, your focus can both shield you and help you strike true. As a bonus action on your turn, you can give yourself advantage on weapon attack rolls until the end of the current turn. When you do so you also gain 5 temporary hit points. The number of temporary hit points increases to 10 at 10th level and 15 at 15th level. \n\nYou can use this feature three times, regaining expended uses after finishing a long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="3"/>
    <fieldval field="abText" value="temp hp"/>
    <fieldval field="abValue" value="5"/>
    <tag group="LvNamePar" tag="AppText"/>
    <tag group="LvNamePar" tag="AppValue"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="LongRest"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)
~ increase the temp hp pool at appropriate levels. 

if (#levelcount[Fighter] >=15) then
     field[abValue].value = 15
elseif (#levelcount[Fighter] >= 10) then
     field[abValue].value = 10
endif]]></eval>
    </thing>
  <thing id="c5CFtrEleC" name="Elegant Courtier" description="Starting at 7th level, your discipline and attention to detail allow you to excel in social situations that require strict adherence to etiquette. You can add your Wisdom modifier to any Charisma (Persuasion) check you make.\n\nYou also gain proficiency in Wisdom saving throws due to your self control. If you already have this proficiency, you instead gain proficiency in Intelligence or Charisma saving throws (your choice)." compset="ClSpecial">
    <tag group="abDuration" tag="Constant"/>
    <tag group="abRange" tag="Personal"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[      doneif (tagis[Helper.Disable] <> 0)

if (hero.tagis[ProfSave.svWIS] = 0) then
      ~ remove choices
      field[usrCandid1].text = ""
      perform hero.assign[ProfSave.svWIS]
else
      field[usrCandid1].text = "component.BaseSave & !Hide.Save & ( thingid.svINT | thingid.svCHA )"
      ~ If nothing chosen then get out now!
      doneif (field[usrChosen1].ischosen = 0)
      
      ~ Pull the save proficiency tag and push to hero
      perform field[usrChosen1].chosen.pulltags[ProfSave.?]
      perform hero.pushtags[ProfSave.?]
endif]]></eval>
    <eval phase="PostAttr" priority="10000"><![CDATA[      doneif (tagis[Helper.ShowSpec] = 0)
      doneif (tagis[Helper.Disable] <> 0)

hero.child[skPersuas].field[Bonus].value += hero.child[aWIS].field[aBonus].value]]></eval>
    </thing>
  <thing id="c5CFtrTirS" name="Tireless Spirit" description="At 10th level, when you roll initiative and have expended all uses of Fighting Spirit already, you regain one use." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CFtrRStr" name="Rapid Strike" description="Beginning at 15th level, you may make swift strikes by sacrificing accuracy. If you take the Attack action on your turn and have advantage on an attack roll against one of the targets, you can instead forgo the advantage for that roll to make an additional weapon attack against that target as part of the same Attack action. You can do so no more than once per turn." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="AttackMel"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="abAction" tag="None"/>
    <tag group="Usage" tag="UsPe5CTurn"/>
    </thing>
  <thing id="c5CFtrStDe" name="Strength Before Death" description="At 18th level, your spirit to fight can delay death&apos;s grasp. If you take damage that reduces you to 0 hit points and does not kill you outright. You can use your reaction to delay falling unconcious. You can immediately take an extra turn, interrupting the currnt turn. While you have 0 hit points during this extra turn, taking damage causes death saving throws as normal, and three death saving throw failures still kills you. When the extra turn ends, you fall unconcsious if you still have 0 hit points. \n\nOnce you use this ability, you can&apos;t use it again until you finish a long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abAction" tag="Reaction"/>
    <tag group="Usage" tag="LongRest"/>
    </thing>
  <thing id="c5CMknBonP" name="Bonus Proficiencies" description="At 3rd level, you gain proficiency with brewer&apos;s supplies and the Performance skill, provided you don&apos;t already have them." compset="ClSpecial">
    <bootstrap thing="skPerform">
      <autotag group="Proficienc" tag="Skill"/>
      </bootstrap>
    <bootstrap thing="gSupBrewer">
      <autotag group="Proficienc" tag="Tool"/>
      </bootstrap>
    <eval phase="First"><![CDATA[doneif (tagis[Helper.Disable] <> 0)

foreach pick in hero from BaseSkill where "thingid.skPerform"
          perform eachpick.assign[Helper.Proficient]
nexteach]]></eval>
    </thing>
  <thing id="c5CMnkDruT" name="Drunken Technique" description="When you choose this tradition at 3rd level, you learn how to twist and turn quickly as part of your Flurry of Blows. Whenever you use Flurry of Blows, you gain the benefit of the Disengage action, and your walking speed increases by 10 feet until the end of the current turn." compset="ClSpecial"></thing>
  <thing id="c5CMnkTipS" name="Tipsy Sway" description="At 6th level, you add to your technique sudden, swaying movements. You gain the following benefits:\n\n{b}{i}Leap to Your Feet.{/i}{/b} When you&apos;re prone, you can stand up by spending 5 feet of movement rather than half your speed.\n\n{b}{i}Redirect Attack.{/i}{/b} When a creature misses you with a melee attack roll, you can use your reaction to spend 1 ki point and cause that attack to hit one creature of your choice, other than the attacker, that you can see within 5 feet of you." compset="ClSpecial">
    <tag group="abAction" tag="Reaction" name="Reaction" abbrev="React"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CMnkDruL" name="Drunkard&apos;s Luck" description="Starting at 11th level, you seem to get lucky at just the right moment. When you have disadvantage on an ability check, an attack roll, or a saving throw, you can spend 2 ki points to cancel the disadvantage on that roll." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CMnkIntF" name="Intoxicated Frenzy" description="At 17th level, you gain the ability to make an astounding number of attacks against a group of enemies. When you use your Flurry of Blows as an Attack action, you can make up to three additional attacks with it (up to a total of five Flurry of Blows attacks), provided that each Flurry of Blows attack targets a different creature this turn." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CMnkPotK" name="Path of the Kensei" description="When you choose this tradition at 3rd level, you master the use of certain weapons while furthering your training in the martial arts. This training also includes instruction in calligraphy or painting. You gain the following benefits:\n\n{b}{i}Kensei Weapons.{/i}{/b} Choose two types of weapons to be your chosen kensei weapons: one melee weapon and one ranged weapon. These weapons cannot have the heavy or special properties, but can be simple or martial. You gain proficiency with these weapons if you don&apos;t already have it and they count as monk wepons for you. Many of the kensei features only work when used with your chosen weapons. When you reach 6th, 11th and 17th levels in this class, you can choose another type of weapon - either melee or ranged- to be a kensei weapon for you following the criteria above. \n\n{b}{i}Agile Parry.{/i}{/b} If you are holding a kensei melee weapon and make an unarmed strike as part of the Attack action on your turn, you can use it to defend yourself. You gain a +2 bonus to AC until the start of your next turn, while the weapon remains in your hand and you aren&apos;t incapacitated. \n\n{b}{i}Kensei&apos;s Shot.{/i}{/b} You can use a bonus action on your turn to make your ranged kensei weapons more deadly. When you do so, any target you hit with a ranged attack using a kensei weapon takes an extra 1d4 damage of the weapon&apos;s type. You retain this benefit until the end of the current turn.\n\n{b}{i}Way of the Brush.{/i}{/b} You become proficient with your choice of calligraphers supplies or painters supplies." compset="ClSpecial">
    <comment>The tool call for painters/calligraphy is to the cfg5CProf and may fail if tool tables are full.</comment>
    <fieldval field="usrCandid1" value="component.BaseWep &amp; (wProfReq.Martial|wProfReq.Simple) &amp; !Helper.Helper &amp; wCategory.Melee &amp; !wProperty.Heavy &amp; !wProperty.Special"/>
    <fieldval field="usrCandid2" value="(component.BaseWep &amp; (wProfReq.Martial|wProfReq.Simple) &amp; !Helper.Helper  &amp; wCategory.RangeProj &amp; !wProperty.Heavy &amp; !wProperty.Special) | thingid.wLongbow"/>
    <fieldval field="abValue" value="1"/>
    <fieldval field="actName" value="Agile Parry"/>
    <tag group="User" tag="Activation" name="Activation" abbrev="Activation"/>
    <tag group="ChooseSrc1" tag="Thing" name="All Things" abbrev="All Things"/>
    <tag group="ChooseSrc2" tag="Thing" name="All Things" abbrev="All Things"/>
    <eval phase="PostLevel" priority="10000" index="3"><![CDATA[
~ If we're disabled, do nothing & 
doneif (tagis[Helper.Disable] = 1)

var NumOfProf as number
var NumOfTool as number
~ Increase or decrease the number of proficiencies 
NumOfTool = field[abValue].value
perform hero.childfound[cfg5CProf].assign[AllowTool2.gSupCaligr]
perform hero.childfound[cfg5CProf].assign[AllowTool2.gSupPainte]
call 5CAddProf]]>
      <before name="Calc skProfBon"/>
      </eval>
    <eval phase="PostLevel" priority="10000">~ Activated for Agile Parry
doneif (tagis[Helper.Disable]  = 1)
doneif (field[abilActive].value = 0)

hero.childfound[ArmorClass].field[Bonus].value += 2</eval>
    <eval phase="PreLevel" priority="10000" index="2">~ the weapon proficiencies are pushed here. 
doneif (tagis[Helper.Disable] = 1)
doneif (field[usrChosen1].ischosen = 0)
doneif (field[usrChosen2].ischosen = 0)
      
~ Pull all the selected weapon proficiency tags to ourself 
perform field[usrChosen1].chosen.pulltags[WepProf.?]
perform field[usrChosen2].chosen.pulltags[WepProf.?]
    
~ Now push both tags to the hero
perform hero.pushtags[WepProf.?]</eval>
    </thing>
  <thing id="c5CMnkOneB" name="One with the Blade" description="At 6th level, you extend your use of ki to your kensei weapons granting the following benefits:\n\n{b}{i}Magic Kensei Weapons.{/i}{/b} Your attacks with kensei weapons are considered magical for the purpose of overcoming resistance and immunity to nonmagical attacks. \n\n{b}{i}Deft Strike.{/i}{/b} When you successfully strike a target with a kensei weapon, you can spend 1 ki point to cause the weapon to deal extra damage equal to your Martial Arts die. You can use this feature only once on each of your turns." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CMnkKenW" name="Path of the Kensei Weapon" description="You are granted an additional weapon to use with your kensei abilities." compset="ClSpecial">
    <fieldval field="usrCandid1" value="(component.BaseWep &amp; (wProfReq.Martial|wProfReq.Simple) &amp; !Helper.Helper  &amp; !wProperty.Heavy &amp; !wProperty.Special) | thingid.wLongbow"/>
    <tag group="ChooseSrc1" tag="Thing" name="All Things" abbrev="All Things"/>
    <eval phase="PreLevel" priority="10000">doneif (tagis[Helper.Disable] = 1)
doneif (field[usrChosen1].ischosen = 0)
      
~ Pull all the selected weapon proficiency tags to ourself 
perform field[usrChosen1].chosen.pulltags[WepProf.?]
    
~ Now push both tags to the hero
perform hero.pushtags[WepProf.?]</eval>
    </thing>
  <thing id="c5CMnkShaB" name="Sharpen the Blade" description="When you reach 11th level, you can further augment you weapons with your ki. As a bonus action you can expend up to 3 ki points to grant one kensei weapon you touch a bonus to attack and damage rolls when you attack with it. The bonus equals the number of ki points you spend. This bonus lasts for 1 minute or until you use this ability again. The feature has no effect on a magic weapon that already has a bonus to attack and damage rolls." compset="ClSpecial">
    <fieldval field="abDuration" value="1"/>
    <fieldval field="actName" value="Sharpen the Blade"/>
    <fieldval field="actIncrNam" value="Ki Bonus"/>
    <fieldval field="actUserMin" value="1"/>
    <fieldval field="actUserMax" value="3"/>
    <tag group="abRange" tag="Touch"/>
    <tag group="Helper" tag="UserAdjust"/>
    <tag group="abDuration" tag="Minute"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[doneif (field[abilActive].value = 0)

~ loop through all the weapons that aren't a natural weapon
foreach pick in hero from BaseWep where "!wGroup.Natural"
     ~ if a weapon is equipped, check it out. 
     if (eachpick.field[gIsEquip].value <> 0) then
          ~ if the weapon has no bonus then grant the bonus
          if (eachpick.field[Bonus].value = 0) then 
               eachpick.field[Bonus].value += field[actUser].value
          endif
     endif
  nexteach]]></eval>
    </thing>
  <thing id="c5CMnkUneA" name="Unerring Accuracy" description="At 17th level, you gain exceptional accuracy with your weapons. If you miss an attack roll using a monk weapon on your turn, you can reroll it. You can use this ability only once on each of your turns." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="Touch"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="abAction" tag="None"/>
    <tag group="Usage" tag="UsPe5CTurn"/>
    <tag group="User" tag="Tracker"/>
    </thing>
  <thing id="c5CPalOaCo" name="Oath of Conquest" description="The Oath of Conquest is taken by paladins seeking glory in battle and the subjugation of their enemies. It isn&apos;t enough for them to establish order, they must also crush the forces of chaos. Paladins of this Oath are sometimes called knight tyrants or iron mongers, and those sworn to its tenets gather into grim knightly orders that serve gods or philosophies of war and well-ordered might. \n\nSome of the Oath of Conquest paladins go as far as to consort with powers of the Nine Hells, valuing Law over mercy. These knights are called hell knights and cover their armor with trophis taken from fallen foes. Hell knights are resisted by other paladins of this oath, who believe that the hell knights have diverged too far into darkness. \n\n{b}Tenets of Conquest{/b}\n\nA paladin who takes this oath has the tenets of  conquest seared on the upper arm. \n\n{b}Douse the Flame of Hope{/b}. It is not enough to merely defeat an enemy in battle. Your victory must be so overwhelming that your enemiesâ€™ will to fight is shattered forever. A blade can end a life. Fear can end an empire.\n\n{b}Rule with an Iron Fist{/b}. Once you have conquered, tolerate no dissent. Your word is law. Those who obey it shall be favored. Those who defy it shall be punished as an example to all who might follow.\n\n{b}Strength Above All{/b}. You shall rule until a stronger one arises. Then you must grow mightier and meet the challenge, or fall to your own ruin.\n\n{b}Conquest Spells{/b}\nYou gain oath spells at the paladin levels listed.\n{b}Oath of Conquest Spells{/b}\n{i}Paladin Level Spells{/i}\n3rd {i}armor of Agathys, command{/i}\n5th {i}hold person, spiritual weapon{/i}\n9th {i}bestow curse, fear{/i}\n13th {i}dominate beast, stoneskin{/i}\n17th {i}cloudkill, dominate person{/i}" compset="CustomSpec" uniqueness="unique">
    <comment>Supersedes UA - Paladin Oaths</comment>
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpPal" name="Paladin" abbrev="Paladin"/>
    <tag group="abCategory" tag="PalSacOath" name="Paladin Sacred Oath" abbrev="Paladin Sacred Oath"/>
    <tag group="Helper" tag="Secondary" name="Secondary" abbrev="Secondary"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <bootstrap thing="spBestCurs">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spFear">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spDomiBeas">
      <autotag group="BonusSplAt" tag="13"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spDomiPers">
      <autotag group="BonusSplAt" tag="17"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="c5CPalConP">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CPalGuiS">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="sp5CArmAga">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="c5CPalAurC">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CPalInCo">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="spCommand">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spStoneski">
      <autotag group="BonusSplAt" tag="13"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spCloudkil">
      <autotag group="BonusSplAt" tag="17"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="c5CPalScoR">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="spHoldPers">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spSpirWeap">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    </thing>
  <thing id="c5CPalConP" name="Channel Divinity: Conquering Presence" description="You can use your Channel Divinity to project a terrifying presence. As an action, you force each creature of your choice within 30 feet of you to make a Wisdom saving throw. On a failed save, a creature becomes frightened of you for 1 minute. The saving throw may be repeated by the creature at the end of each of its turns, ending the effect on itself with a success." compset="ClSpecial">
    <fieldval field="abDuration" value="1"/>
    <fieldval field="abRange" value="30"/>
    <tag group="abCategory" tag="PalChanDiv" name="Paladin Channel Divinity" abbrev="Paladin Channel Divinity"/>
    <tag group="abDuration" tag="Minute" name="Minute" abbrev="min"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abSave" tag="aWIS" name="Wisdom" abbrev="Wis"/>
    <tag group="StandardDC" tag="aCHA" name="Charisma" abbrev="Charisma"/>
    <tag group="abAction" tag="Free" name="Free" abbrev="Free"/>
    </thing>
  <thing id="c5CPalGuiS" name="Channel Divinity: Guided Strike" description="You can use your Channel Divinity to strike with divine accuracy. When youmake an attack roll, you can use your Channel Divinity to gain a +10 bonus to the roll. You make this choice after you see the roll, but before the DM says whether the attack misses or hits." compset="ClSpecial">
    <fieldval field="abValue" value="10"/>
    <tag group="abCategory" tag="ClrChanDiv" name="Cleric Channel Divinity Ability" abbrev="Cleric Channel Divinity Ability"/>
    <tag group="abDuration" tag="Instant" name="Instantaneous" abbrev="inst"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    </thing>
  <thing id="c5CPalAurC" name="Aura of Conquest" description="Starting at 7th level, you emanate a menacing aura with a 10 feet radius while you are not incapacitated. This aura does not penetrate total cover. \n\nIf a creature is frightened of you, its speed is reduced to 0 while in the aura. That creature also takes psychic damage equal to half your paladin level if it starts its turn there. \n\nAt  18th level, the range of this aura increases to 30 feet." compset="ClSpecial" summary="You emanate a menacing aura while youâ€™re not incapacitated.">
    <fieldval field="abRange" value="10"/>
    <fieldval field="abText" value="psychic damage"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="LvNamePar" tag="IncRange" name="Include Range text" abbrev="Include Range text"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="LvNamePar" tag="AppText"/>
    <tag group="LvNamePar" tag="AppValue"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      if (field[xAllLev].value >= 18) then
        field[abRange].value += 20
        endif

      field[abValue].value = round(#levelcount[Paladin]/2, 0, -1)]]></eval>
    </thing>
  <thing id="c5CPalScoR" name="Scornful Rebuke" description="Upon reaching 15th level, those who strike at you are punished for their deed. Any creature that hits you with an attack, takes psychic damage equal to your Charisma modifier (Min 1), as long as you are not incapacitated." compset="ClSpecial">
    <fieldval field="abText" value="psychic damage"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="LvNamePar" tag="AppText"/>
    <tag group="LvNamePar" tag="AppValue"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      doneif (tagis[Helper.Disable] <> 0)
field[abValue].value = round(#levelcount[Paladin]/2,0,-1)]]></eval>
    </thing>
  <thing id="c5CPalInCo" name="Invincible Conqueror" description="At 20th level, you gain the ability to harness extraordinary martial prowess. As an action, you can magically become an avatar of conquest, gaining the following benefits for 1 minute:\n\nâ€¢  You have resistance to all damage.\nâ€¢  When you take the Attack action on your turn, you can make one additional attack as part of that action. \nâ€¢  Your melee weapon attacks score a critical hit on a roll of 19 or 20. \n\nOnce you use this feature, you canâ€™t use it again until you finish a long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="Usage" tag="LongRest" name="/long rest" abbrev="/long rest"/>
    <tag group="User" tag="Activation" name="Activation" abbrev="Activation"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="DamageRes" tag="dcAll" name="All damage" abbrev="All damage"/>
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)
doneif (tagis[Helper.ShowSpec] = 0)
doneif (field[abilActive].value = 0)

perform forward[DamageRes.?]]]></eval>
    </thing>
  <thing id="c5CPalRede" name="Oath of Redemption" description="The Oath of Redemption is a difficult path requiring a holy warrior to use violence as a last resort. Paladins dedicated to this oath believe that any person can be redeemed and that the path of justice and benevolence is one that anyone can tread. These paladins face evil creatures with the hope of turning their foes to the light, and they will slay only when such a deed will clearly save other lives. Followers of this path are often called redeemers.\n\nIdealist, redeemers are no fools. These paladins know that undead, demons, devils and other supernatural threats are inherently evil. Against such foes, they bring the full wrath of their weapons and spells to bear. Redeemers still pray, though, that such creatures will invite their own redemption from wickedness. \n\n{b}Tenets of Redemption{/b}\n\nThe tenets of the Oath of Redemption hold a paladin to a high standard of peace and justice. \n\n{b}Peace{/b}. Violence is a weapon of last resort. Diplomacy and understanding are the paths to long-lasting peace.\n\n{b}Innocence{/b}. All people begin life in an innocent state, and it is their environment or the influence of dark forces that drives them to evil. By setting the proper example, and working to heal the wounds of a deeply flawed world, you can set anyone on a righteous path.\n\n{b}Patience{/b}. Change takes time. Those who have walked the path of the wicked must be given reminders to keep them honest and true. Once you have planted the seed of righteousness in a creature, you must work day after day to allow it to survive and then flourish.\n\n{b}Wisdom{/b}. Your heart and mind must stay clear, for eventually you will be forced to admit defeat. While every creature can be redeemed, some are so far along the path of evil that you have no choice but to end their lives for the greater good. Any such action must be carefully weighed and the consequences fully understood, but once you have made the decision, follow through with it knowing your path is just.\n\n{b}Redemption Spells{/b}\nYou gain oath spells at the paladin levels listed.\n\n{b}Oath of Redemption Spells{/b}\n{i}Paladin Level Spells{/i}\n3rd {i}sanctuary, sleep{/i}\n5th {i}calm emotions, hold person{/i}\n9th {i}counterspell, hypnotic pattern{/i}\n13th {i}resilient sphere, stoneskin{/i}\n17th {i}hold monster, wall of force{/i}" compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpPal" name="Paladin" abbrev="Paladin"/>
    <tag group="abCategory" tag="PalSacOath" name="Paladin Sacred Oath" abbrev="Paladin Sacred Oath"/>
    <tag group="Helper" tag="Secondary" name="Secondary" abbrev="Secondary"/>
    <bootstrap thing="spSanctuar">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spSleep">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spHoldPers">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spCalmEmot">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="sp5CCounte">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spHypnPatt">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spResiSphe">
      <autotag group="BonusSplAt" tag="13"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spStoneski">
      <autotag group="BonusSplAt" tag="13"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spHoldMons">
      <autotag group="BonusSplAt" tag="17"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spWallForc">
      <autotag group="BonusSplAt" tag="17"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="c5CPalEmiP">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CPalRebV">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CPalAurG">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CPalProS">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="c5CPalEmiR">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    </thing>
  <thing id="c5CPalEmiP" name="Channel Divinity: Emissary of Peace" description="You can use your Channel Divinity to augment your presence with divine peace. As a bonus action, you grant yourself a +5 bonus to the next Charisma (Persuasion) check you make within the next 10 minutes." compset="ClSpecial">
    <fieldval field="abDuration" value="10"/>
    <tag group="abCategory" tag="PalChanDiv" name="Paladin Channel Divinity" abbrev="Paladin Channel Divinity"/>
    <tag group="abDuration" tag="Minute"/>
    <tag group="abAction" tag="Bonus" name="Bonus" abbrev="Bon"/>
    <tag group="abRange" tag="Personal"/>
    </thing>
  <thing id="c5CPalRebV" name="Channel Divinity: Rebuke the Violent" description="You can use your Channel Divinity to rebuke those who use violence.\nAs a reaction when an enemy within 30 feet of you deals damage with an attack against one creature other than you, you force that attacker to make a Wisdom saving throw. On a failed save, the attacker takes radiant damage equal to the damage it just dealt. On a successful save, it takes half as much damage." compset="ClSpecial">
    <fieldval field="abRange" value="30"/>
    <tag group="abAction" tag="Reaction" name="Reaction" abbrev="React"/>
    <tag group="abCategory" tag="PalChanDiv" name="Paladin Channel Divinity" abbrev="Paladin Channel Divinity"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="abSave" tag="aWIS" name="Wisdom" abbrev="Wis"/>
    <tag group="StandardDC" tag="aCHA" name="Charisma" abbrev="Charisma"/>
    <tag group="abDuration" tag="Instant"/>
    </thing>
  <thing id="c5CPalAurG" name="Aura of the Guardian" description="Starting at 7th level, you can shield your allies from harm at the cost of your own health. As a reaction when an ally within 10 feet of you takes damage, you instead magically take that damage. This feature doesnâ€™t transfer any other effects that might accompany the damage.\n\nAt 18th level, the range of this aura increases to 30 feet." compset="ClSpecial">
    <fieldval field="abRange" value="10"/>
    <tag group="LvNamePar" tag="IncRange" name="Include Range text" abbrev="Include Range text"/>
    <tag group="abAction" tag="Reaction" name="Reaction" abbrev="React"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="DamageRes" tag="dtSpells" name="Spells" abbrev="Spells"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      if (field[xAllLev].value >= 18) then
        field[abRange].value += 20
        endif]]></eval>
    </thing>
  <thing id="c5CPalProS" name="Protective Spirit" description="Starting at 15th level, a holy presence heals you while you are in combat. Each round that you end your turn in combat with fewer than half your hit points remaining and are not incapacitated, you regain 1d6 + half your paladin level in hit points." compset="ClSpecial">
    <fieldval field="abText" value="hp"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="LvNamePar" tag="DieCnt1"/>
    <tag group="LvNamePar" tag="AppValue"/>
    <tag group="LvNamePar" tag="SignAppVal"/>
    <tag group="LvNamePar" tag="DieSiz6"/>
    <tag group="abAction" tag="None"/>
    <tag group="LvNamePar" tag="AppText"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)
field[abValue].value = round(#levelcount[Paladin]/2, 0, -1)]]></eval>
    </thing>
  <thing id="c5CPalEmiR" name="Emissary of Redemption" description="At 20th level, you become an avatar of peace, which gives you two benefits:\n\nâ€¢ You have resistance to all damage dealt by other creatures (their attacks, spells, and other effects).\nâ€¢ Whenever a creature damages you, it takes damage equal to half the amount it dealt to you.\n\nIf you attack a creature, cast a spell on it, or deal damage to it by means other than this feature, you gain no benefit from this feature against that creature until you finish a long rest." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CRgrGlSt" name="Gloom Stalker" description="Deep under the earth, in gloomey alleyway, in dark forests and wherever the light is dim is where Gloom Stalkers make their homes. Most folk are reluctant to enter such places, but a Gloom Stalker will boldly venture into the darkness, ambushing threats before they can reach beyond the darkness. Such rangers often journey into the Underdark, but are found anywhere evil lurks in the shadows." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpRgr"/>
    <tag group="SpecSource" tag="cHelpRgC"/>
    <tag group="abCategory" tag="RgrArchety"/>
    <tag group="Helper" tag="Secondary"/>
    <bootstrap thing="c5CRgrGSMa">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CRgrDrAm">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CRgrUmSi">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CRgrIroM">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CRgrStaF">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="c5CRgrShaD">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    </thing>
  <thing id="c5CRgrGSMa" name="Gloom Stalker Magic" description="When you take this Ranger archetype at 3rd level, you learn an additional spell at certain levels as shown in the Gloom Stalker Spells table. The spell counts as a ranger spell for you, but it doesn&apos;t count against the number of ranger spells known.\n\n{b}Gloom Stalker Spells{/b}\n{b}Ranger Level Spell{/b}\n3rd {i}disguise self{/i}\n5th {i}rope trick{/i}\n9th {i}fear{/i}\n13th {i}greater invisibility{/i}\n17th {i}seeming{/i}" compset="ClSpecial">
    <bootstrap thing="spDisgSelf">
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Known"/>
      </bootstrap>
    <bootstrap thing="spRopeTric">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      </bootstrap>
    <bootstrap thing="spFear">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      </bootstrap>
    <bootstrap thing="spGreaInvi">
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="BonusSplAt" tag="13"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      </bootstrap>
    <bootstrap thing="spSeeming">
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="BonusSplAt" tag="17"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      </bootstrap>
    </thing>
  <thing id="c5CRgrDrAm" name="Dread Ambusher" description="At 3rd level, you can give yourself a bonus to your initiative rolls equal to your Wisdom modifier as you master the art of the ambush.\n\nAt the start of your first turn of each combat, your walking speed is increased by 10 feet, which lasts until the end of that turn. If you take the Attack action on that turn, you can make one additional weapon attack as part of that action. If that attack hits, the target takes an additional 1d8 damage of the weapon&apos;s damage type." compset="ClSpecial">
    <eval phase="PostAttr" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)
var InBon as number
InBon = maximum(0, #attrmod[aWIS])

#applybonus[Bonus, hero.child[Initiative], InBon]]]></eval>
    </thing>
  <thing id="c5CRgrUmSi" name="Umbral Sight" description="At 3rd level, you gain darkvision out to 60 feet unless you already have it. If you already have darkvision, its range increases by 30 feet.\n\nWhile in darkness, you are invisible to any creature that relies on darkvision to see you in that darkness as you are also adept at evading such creatures." compset="ClSpecial">
    <comment><![CDATA[Error with scripting this - increasing existing darkvision doesn't work.]]></comment>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="abAction" tag="None"/>
    <bootstrap thing="raDarkVis">
      <containerreq phase="First" priority="500">Hero.HasDarkvis = 0</containerreq>
      <assignval field="abValue" value="60"/>
      <assignval field="abValue2" value="30"/>
      </bootstrap>
    </thing>
  <thing id="c5CRgrIroM" name="Iron Mind" description="Starting at 7th level, you increase your ability to resist the mind-altering powers of your foes. \n\nYou gain proficiency in Wisdom saving throws. If you already have this proficiency, you instead gain proficiency in Intelligence or Charisma saving throws (your choice)." compset="ClSpecial">
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[      doneif (tagis[Helper.Disable] <> 0)
      doneif (tagis[Helper.ShowSpec] = 0)

if (hero.tagis[ProfSave.svWIS] = 0) then
      ~ remove choices
      field[usrCandid1].text = ""
      perform hero.assign[ProfSave.svWIS]
else
      field[usrCandid1].text = "component.BaseSave & !Hide.Save & ( thingid.svINT | thingid.svCHA )"
      ~ If nothing chosen then get out now!
      doneif (field[usrChosen1].ischosen = 0)
      
      ~ Pull the save proficiency tag and push to hero
      perform field[usrChosen1].chosen.pulltags[ProfSave.?]
      perform hero.pushtags[ProfSave.?]
endif]]></eval>
    </thing>
  <thing id="c5CRgrStaF" name="Stalker&apos;s Flurry" description="At 11th level, you can turn a miss into another strike. Once on each of your turns when you miss with a weapon attack, you can make another weapon attack as part of the same action." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abAction" tag="Free"/>
    <tag group="Usage" tag="UsPe5CTurn"/>
    </thing>
  <thing id="c5CRgrShaD" name="Shadowy Dodge" description="At 1th level, you can dodge in ways that seem supernatural. Whenever a creature makes an attack roll against you and doesn&apos;t have advantage on the roll, you can use your reaction to impose disadvantage on it. You must declare to use this feature before you know the outcome of the attack roll." compset="ClSpecial">
    <tag group="abRange" tag="Personal"/>
    <tag group="abAction" tag="Reaction"/>
    <tag group="abDuration" tag="Instant"/>
    </thing>
  <thing id="c5CRgrHorW" name="Horizon Walker" description="Horizon Walkers guard against threats to the world that originate from other planes or usilize otherworldly magic to ravage the mortal realm. They keep watch over planar portals, seeking them out and venturing beyond into the Inner and Outer Planes as needed to hunt down their foes. These rangers are friendn\ly to an ybenevolent force in the universe - including dragons and elementals - that works to preserve order and life in the planes." compset="CustomSpec" uniqueness="unique">
    <comment>Supersedes UA Ranger.</comment>
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpRgr" name="Ranger" abbrev="Ranger"/>
    <tag group="abCategory" tag="RgrArchety" name="Ranger Archetype" abbrev="Ranger Archetype"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="Helper" tag="Secondary" name="Secondary" abbrev="Secondary"/>
    <tag group="SpecSource" tag="cHelpRgC"/>
    <bootstrap thing="c5CRgrDetP">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CRgrPlWr">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CRgrEtSt">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CRgrDiSt">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="c5CRgrSpDe">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="c5CRgrHoWM">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    </thing>
  <thing id="c5CRgrHoWM" name="Horizon Walker Magic" description="Starting at 3rd level, Horizon Walkers learn additional spells at certain levels in the class, shown in the table blow. The spell counts as a ranger spell, but it doesn&apos;t count against the total number of ranger spells known. \n\n{b}Horizon Walker Spells{/b}\n{b}Ranger Level Spell{/b}\n3rd {i}protection from evil and good{/i}\n5th {i}misty step{/i}\n9th {i}haste{/i}\n13th {i}banishment{/i}\n17th {i}teleportation circle{/i}" compset="ClSpecial">
    <bootstrap thing="spProtGoEv">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      </bootstrap>
    <bootstrap thing="spMistStep">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      </bootstrap>
    <bootstrap thing="spHaste">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      </bootstrap>
    <bootstrap thing="spBanishme">
      <autotag group="BonusSplAt" tag="13"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      </bootstrap>
    <bootstrap thing="spTeleCirc">
      <autotag group="BonusSplAt" tag="17"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      </bootstrap>
    </thing>
  <thing id="c5CRgrDetP" name="Detect Portal" description="At 3rd level, you learn the ability to magically sense the presence of a planar portal. As an action, you detect the direction and distance to the closest planar portal within 1 mile of you.\n\nOnce you use this ability, you can&apos;t use it again until you finish a short or long rest." compset="ClSpecial">
    <fieldval field="abRange" value="1"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="Mile"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abAction" tag="Action"/>
    <tag group="Usage" tag="ShortRest"/>
    </thing>
  <thing id="c5CRgrPlWr" name="Planar Warrior" description="At 3rd level, you learn to augment your attacks with the energy of the multiverse. \n\nAs a bonus action, choose one creature you can see within 30 feet of you. The next time you hit that creature on this turn with a weapon attack, all damage dealt is converted into force damage, and the creature takes an extra 1d8 force damage from the attack. When you reach 11th level in this class, the extra damage increases to 2d8." compset="ClSpecial">
    <fieldval field="abDuration" value="Your next attack on this turn"/>
    <fieldval field="abValue" value="1"/>
    <fieldval field="abValue2" value="8"/>
    <fieldval field="abText" value="force damage"/>
    <tag group="abRange" tag="Attack"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="LvNamePar" tag="DieCntVal"/>
    <tag group="LvNamePar" tag="AppText"/>
    <tag group="LvNamePar" tag="DieSizVal2"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (#levelcount[Ranger] < 11)

field[abValue].value += 1]]></eval>
    </thing>
  <thing id="c5CRgrEtSt" name="Ethereal Step" description="At 7th level, you learn to step through the Ethereal Plane. As a bonus action on your turn, you can cast the {i}etherealness{/i} spell with this feature, but the spell ends at the end of the current turn. Once you use this feature, you canâ€™t use it again until you finish a short or long rest." compset="ClSpecial">
    <tag group="abAction" tag="Bonus" name="Bonus" abbrev="Bon"/>
    <bootstrap thing="spEthereal">
      <containerreq phase="First" priority="499"><![CDATA[(count:Classes.Ranger >= 7) | (count:Classes.5CRgC >= 7)]]></containerreq>
      <autotag group="Helper" tag="SpellLike"/>
      <autotag group="Usage" tag="ShortRest"/>
      <assignval field="trkMax" value="1"/>
      </bootstrap>
    </thing>
  <thing id="c5CRgrDiSt" name="Distant Strike" description="At 11th level, you gain the ability to step between the planes in a blink of an eye. When you use the Attack action, you can teleport up to 10 feet before each attack. You must be able to see the destination of the teleportation and it cannot be occupied. \n\nIf you attack at least two different creatures with the action, you can make one additional attack with it against a third creature." compset="ClSpecial">
    <fieldval field="abRange" value="10"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="abAction" tag="Free" name="Free" abbrev="Free"/>
    </thing>
  <thing id="c5CRgrSpDe" name="Spectral Defense" description="At 15th level, your ability to move between planes becomes even more finely tuned. \n\nAs a reaction, when you take damage from an attack, you can give yourself resistance to all of that attack&apos;s damage on this turn." compset="ClSpecial">
    <tag group="abAction" tag="Reaction" name="Reaction" abbrev="React"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CRgrMonS" name="Monster Slayer" description="Rangers of the Slayer Conclave seek out vampires, dragons, evil fey, fiends, and other powerful magical threats. Trained in a variety of arcane and divine techniques to overcome such monsters, slayers are experts at unearthing and defeating mighty foes." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpRgC" name="Ranger (Sept 2016)" abbrev="Ranger (Sept 2016)"/>
    <tag group="SpecSource" tag="cHelpRgr" name="Ranger" abbrev="Ranger"/>
    <tag group="Helper" tag="Secondary" name="Secondary" abbrev="Secondary"/>
    <bootstrap thing="c5CRgrMoSM">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CRgrHunS">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CRgrSlaP">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CRgrSupD">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CRgrMUNe">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="c5CRgrSlaC">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    </thing>
  <thing id="c5CRgrMoSM" name="Monster Slayer Magic" description="Starting at 3rd level, Monster Slayers learn an additional spell at certain levels (shown on the table below). The spell counts as a ranger spell, but it doesn&apos;t count against the number of ranger spells known. \n\n{b}Monster Slayer Spells{/b}\n{b}Ranger Level Spell{/b}\n3rd {i}protection from evil and good{/i}\n5th {i}zone of truth{/i}\n9th {i}magic circle{/i}\n13th {i}banishment{/i}\n17th {i}hold monster{/i}" compset="ClSpecial">
    <bootstrap thing="spProtGoEv">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      </bootstrap>
    <bootstrap thing="spZoneTrut">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      </bootstrap>
    <bootstrap thing="spMagiCirc">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      </bootstrap>
    <bootstrap thing="spBanishme">
      <autotag group="BonusSplAt" tag="13"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      </bootstrap>
    <bootstrap thing="spHoldMons">
      <autotag group="BonusSplAt" tag="17"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpRgr"/>
      </bootstrap>
    </thing>
  <thing id="c5CRgrHunS" name="Hunter&apos;s Sense" description="Starting at 3rd level, you gain the ability to sense vital weaknesses in a creature. As an action, choose one creature within 60 feet of you that you can see. You learn immediately whether the creature has any damage vulnerabilites, resistances, or immunities and what they are. If the creature is cloacked from divination magic, you sences that it has no damage immunities, resistances, or vulnerabilities. \n\nYou can use this feature a number of times equal to your Wisdom modifer (minimum once). You regain all expended uses when you finish a long rest." compset="ClSpecial">
    <fieldval field="abRange" value="60"/>
    <tag group="abAction" tag="Action"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrOnly"/>
    <tag group="ChargeCalc" tag="FinalMin1"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <tag group="ChargeAttr" tag="Minimum1"/>
    <tag group="Usage" tag="LongRest"/>
    </thing>
  <thing id="c5CRgrSlaP" name="Slayer&apos;s Prey" description="At 3rd level, you can focus your anger on one foe, increasing the damage you can inflict on it. As a bonus action, choose one creature within 60 feet of you that you can see as the target of this feature. The first time each turn that you hit the target with a weapon attack, it takes an additional 1d6 damage from the weapon of the same type. \n\nThe benefit lasts until you finish a short or long rest. It ends earlier if you choose a different creature." compset="ClSpecial">
    <fieldval field="abRange" value="60"/>
    <fieldval field="abDuration" value="Until you rest or choose another target"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="Usage" tag="UsPe5CTurn"/>
    </thing>
  <thing id="c5CRgrSupD" name="Supernatural Defense" description="Starting at 7th level, you gain extra resistance to your prey&apos;s assaults on you. Whenever the target of your Slayer&apos;s Prey forces you to make a saving throw and whenevery you make an ability check to escape that target&apos;s grapple, you can roll a d6 and add the result to the check or saving throw." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CRgrMUNe" name="Magic-User&apos;s Nemesis" description="You gain the ability to thwart someone else&apos;s magic after reaching 11th level. When you see a creature within 60 feet of you casting a spell or teleporting, you can use your reaction to magically foil it. The creature must succeed on a Wisdom saving throw against your spell save DC, or its spell or teleport fails and is wasted. \n\nOnce you use this ability, you can&apos;t use it again until you finish a short of long rest." compset="ClSpecial">
    <fieldval field="abRange" value="60"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abAction" tag="Reaction"/>
    <tag group="Usage" tag="ShortRest"/>
    <tag group="abSave" tag="aWIS"/>
    <tag group="StandardDC" tag="aWIS"/>
    </thing>
  <thing id="c5CRgrSlaC" name="Slayer&apos;s Counter" description="At 15th level, you gain the ability to counterattack when you are sabotaged by your prey. If the target of your Slayer&apos;s Prey forces you to make a saving throw, you can use your reaction to make one weapon attack against the target. You make this attack immediately before making the saving throw. If your attack successfully hits, then your save automatically is successful, in addition to the normal effects of the attack." compset="ClSpecial">
    <tag group="abAction" tag="Reaction"/>
    <tag group="abRange" tag="Attack"/>
    <tag group="abDuration" tag="Instant"/>
    </thing>
  <thing id="c5CRogInqu" name="Inquisitive" description="An Inquisitive excels at rooting out secrets and solving mysteries. They rely on a sharp eye to detail, and also their finely honed ability to read the true intentions of other creatures from their words and deeds. An Inquisitive excels at defeating creatures that hide among and prey upon common folk. They have mastered lore and have keen deductions that make them well equipped to end hidden evil." compset="CustomSpec" uniqueness="unique">
    <comment>Supersedes UA - Gothic Heroes</comment>
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpRog" name="Rogue" abbrev="Rogue"/>
    <tag group="abCategory" tag="RogArchety" name="Rogue Archetype" abbrev="Rogue Archetype"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="c5CRogEaDe">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CRogEyDe">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CRogInsF">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CRogSteE">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="c5CRogUneE">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="c5CRogEyWe">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    </thing>
  <thing id="c5CRogEaDe" name="Ear for Deceit" description="When you choose Inquisitive at 3rd level, you develop a talent for detecting lies. Whenever you make a Wisdom (Insight) check to determine whether or not a creature is lying, treat any roll of 7 or lower on the d20 as an 8." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CRogEyDe" name="Eye for Detail" description="Starting at 3rd level, you can use a bonus action to spot hidden creatures or objects with a Wisdom (Perception) check or to uncover or decipher clues with an Intelligence (Investigation) check." compset="ClSpecial">
    <tag group="abAction" tag="Bonus" name="Bonus" abbrev="Bon"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CRogInsF" name="Insightful Fighting" description="At 3rd level, you can develop a counter to an opponents tactics by deciphering their tactics. As a bonus action, you can make a Wisdom (Insight) check opposed by a target&apos;s Charisma (Decpetion) check. The target must not be incapacitated and you must be able to see them. If the check is successful, you can use your Sneak Attack even if you don&apos;t have advantage on the attack roll, as long as you don&apos;t have disadvantage on the roll. \n\nThis benefit lasts for 1 minute or until you successfully use Insightful Fighting against a different target." compset="ClSpecial">
    <fieldval field="abDuration" value="1"/>
    <tag group="abDuration" tag="Minute" name="Minute" abbrev="min"/>
    <tag group="abRange" tag="Sight"/>
    <tag group="abAction" tag="Bonus"/>
    </thing>
  <thing id="c5CRogSteE" name="Steady Eye" description="At 9th level, as long as you move no more than half your speed on your turn, you gain advantage on any Wisdom (Perception) or Intelligence (investigation) check you make." compset="ClSpecial">
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="abAction" tag="None"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)
doneif (tagis[Helper.ShowSpec] = 0)

#situational[hero.child[skPercep], "Advantage on Perception checks while moving half speed or less.", field[thingname].text]
#situational[hero.child[skInvestig], "Advantage on Investigation checks while moving half speed or less.", field[thingname].text]]]></eval>
    </thing>
  <thing id="c5CRogUneE" name="Unerring Eye" description="At 13th level, your senses become impossible to fool. As an action, you sense any magic designed to deceive the senses within 30 feet of you. This includes the presence of illusion and shapechangers not in their original form. You sense the effect that is trying to trick you, but you gain no insight into what is being hidden or the true nature of the deceit.\n\nYou can use this feature a numbe of times equal to your Wisdom modifier (minimum once), and you regain all expended uses of it when you finish a long rest." compset="ClSpecial">
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrOnly"/>
    <tag group="ChargeCalc" tag="FinalMin1"/>
    <tag group="ChargeAttr" tag="Minimum1"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <tag group="Usage" tag="LongRest"/>
    </thing>
  <thing id="c5CRogEyWe" name="Eye for Weakness" description="At 17th level, when your Insightful Fighting feature applies to a creature, your Sneak Attack damage against that creature increases by 3d6." compset="ClSpecial">
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <tag group="User" tag="Activation" name="Activation" abbrev="Activation"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="abAction" tag="None"/>
    <eval phase="Final" priority="10000" index="2">doneif (tagis[Helper.Disable] = 1)
doneif (field[abilActive].value = 0)

hero.childfound[cSneakAtt].field[abValue].value += 3</eval>
    </thing>
  <thing id="c5CSorDiSo" name="Divine Soul" description="Some sorcerers find that their power comes from a divine spark. Having a Divine Soul is often seen as a sign that the sorcerer is a servant of the gods or part of a prophecy. Other times, it is seen simply that the sorcerer must have divine blood from an ancestor. \n\nA Divine Soul has a natural magnetism, and as such is sometimes seen as a threat to some religious hierarchies. As an outsider that commands sacred power, the sorcerer is seen as an intruder that can usurp the rightful order by flexing their divine connection." compset="CustomSpec" uniqueness="unique">
    <comment>Divine Magic has an issue - cannot replace the free spell right now.</comment>
    <usesource source="5eXGTECP"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="SpecSource" tag="cHelpSor" name="Sorcerer" abbrev="Sorcerer"/>
    <bootstrap thing="c5CSorEmpH">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CSorOthW">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="c5CSorDivM">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CSorUneR">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="c5CSorFavG">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    </thing>
  <thing id="c5CSorFavG" name="Favored by the Gods" description="Starting at 1st level, if you fail a saving throw or miss with an attack roll, you can roll 2d4 and add it to the total as divine power guides your destiny.\n\nOnce you use this feature, you canâ€™t use it again until you finish a short or long rest." compset="ClSpecial">
    <fieldval field="abValue" value="2"/>
    <fieldval field="abValue2" value="4"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="LvNamePar" tag="DieCntVal" name="&quot;field[abValue].value&quot; dY" abbrev="&quot;field[abValue].value&quot; dY"/>
    <tag group="LvNamePar" tag="DieSizVal2" name="Xd &quot;field[abValue2].value&quot;" abbrev="Xd &quot;field[abValue2].value&quot;"/>
    <tag group="Usage" tag="ShortRest" name="/short rest" abbrev="/short rest"/>
    </thing>
  <thing id="c5CSorEmpH" name="Empowered Healing" description="Starting at 6th level, whenever you or an ally within 5 feet of you rolls dice to determine the number of hit points a spell restores, you can spend 1 sorcery point to reroll any number of those dice once. You cannot be incapacitated when using this feature. You can use this feature only once per turn." compset="ClSpecial">
    <fieldval field="abRange" value="5"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abAction" tag="None"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="Usage" tag="UsPe5CTurn"/>
    </thing>
  <thing id="c5CSorOthW" name="Otherworldly Wings" description="Starting at 14th level, you can manifest a pair of spectral wings from your back as a bonus action. While the wings are active, you have a flying speed of 30 feet. The wings last until you&apos;re incapacitated, you die, or you dismiss them as a bonus action.\n\nThe wings have their appearance based on what affinty you chose for Divine Magic: eagle wings for law or good, bat wings for evil or chaos, and dragonfly wings for neutrality." compset="ClSpecial">
    <tag group="Helper" tag="UseOwnLev"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostAttr"><![CDATA[doneif (#levelcount[Sorcerer] < 14)

if (field[abilActive].value = 1) then
        #value[xFly] += 30
endif]]></eval>
    </thing>
  <thing id="c5CSorDivM" name="Divine Magic" description="Your divine source allows you to learn spells from the cleric class. When your Spellcasting feature lets you learn or replace a sorcerer spell or cantrip, you can choose the new spell from the cleric spell list. You must otherwise obey all other restrictions for selecting the spell. The selected spell becomes a sorcerer spell from you. \n\nIn addition, you choose an Affinty for the source of your power: good, evil, law, chaos or neutrality. You learn an additonal spell based on your choice as shown on the table. The spell is a sorcerer spell for you, but it doesn&apos;t count against your number of sorcerer spells known. If you later replace this spell, you must replace it with a spell from the cleric spell list.\n\n{b}Affinity  Spell{/b}\nGood  {i}cure wounds{/i}\nEvil  {i}inflict wounds{/i}\nLaw {i}bless{/i}\nChaos {i}bane{/i}\nNeutrality {i}protection from evil and good{/i}" compset="ClSpecial">
    <fieldval field="usrLabelAr" value="Source"/>
    <arrayval field="usrArray" index="0" value="Good"/>
    <arrayval field="usrArray" index="1" value="Evil"/>
    <arrayval field="usrArray" index="2" value="Law"/>
    <arrayval field="usrArray" index="3" value="Chaos"/>
    <arrayval field="usrArray" index="4" value="Neutrality"/>
    <arrayval field="usrArray" index="5" value="Relearn Divine Spell"/>
    <bootstrap thing="spInflWoun">
      <containerreq phase="First" priority="500">fieldval:usrIndex = 1</containerreq>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="SpellType" tag="cHelpSor"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="spBless">
      <containerreq phase="First" priority="500">fieldval:usrIndex = 2</containerreq>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="SpellType" tag="cHelpSor"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="spBane">
      <containerreq phase="First" priority="500">fieldval:usrIndex = 3</containerreq>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="SpellType" tag="cHelpSor"/>
      </bootstrap>
    <bootstrap thing="spProtGoEv">
      <containerreq phase="First" priority="500">fieldval:usrIndex = 4</containerreq>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpSor"/>
      </bootstrap>
    <bootstrap thing="spCureWoun">
      <containerreq phase="First" priority="500">fieldval:usrIndex = 0</containerreq>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="SpellType" tag="cHelpSor"/>
      <autotag group="Helper" tag="Memorized"/>
      </bootstrap>
    <bootstrap thing="cfg5CDivSp">
      <containerreq phase="First" priority="100">fieldval:usrIndex = 5</containerreq>
      </bootstrap>
    <eval phase="Final" priority="21000"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)

~these vars will hold the tag expressions for spells and cantrips
~ needed to pull cleric spells into the list as well as sorceror

var cantrip as string
var spell as string
var known as string 

cantrip = hero.childfound[cHelpSor].field[cCnKnoExpr].text
spell = hero.childfound[cHelpSor].field[cSpKnoExpr].text 
known = hero.childfound[cHelpSor].field[cSpellExpr].text 

~ debug "Cantrip: " & cantrip
~ debug "Spell: " & spell
~ debug "Known Spells: " & known

~ now we modify the expression to also include the cleric spells

cantrip = replace(cantrip, "sClass.cHelpSor", "( sClass.cHelpSor | sClass.cHelpClr )", 1)
cantrip = replace(cantrip, "(sClassNot.cHelpSor)", "( sClassNot.cHelpSor | sClassNot.cHelpClr )", 1)

spell = replace(spell, "sClass.cHelpSor", "( sClass.cHelpSor | sClass.cHelpClr )", 1)
spell = replace(spell, "(sClassNot.cHelpSor)", "( sClassNot.cHelpSor | sClassNot.cHelpClr )", 1)

known = replace(known, "sClass.cHelpSor", "( sClass.cHelpSor | sClass.cHelpClr )", 1)
known = replace(known, "(sClassNot.cHelpSor)", "( sClassNot.cHelpSor | sClassNot.cHelpClr )", 1)

~ debug "Cantrip: " & cantrip
~ debug "Spell: " & spell
~ debug "Known Spells: " & known

~finally, we replace the expressions with the new ones

hero.childfound[cHelpSor].field[cCnKnoExpr].text = cantrip
hero.childfound[cHelpSor].field[cSpKnoExpr].text = spell
hero.childfound[cHelpSor].field[cSpellExpr].text = known
hero.childfound[cHelpSor].field[cSplBkExpr].text = known]]></eval>
    </thing>
  <thing id="c5CSorUneR" name="Unearthly Recovery" description="At 18th level, you gain the ability to recover from grievous injuries. When you have fewer than half your hit points remaining, you may take a bonus action to regain a number of hit points equal to half your hit point maximum. \n\nOnce you use thise feature, you cannot use it again until you finish a long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="Usage" tag="LongRest"/>
    </thing>
  <thing id="c5CSorXGSh" name="Shadow" description="Your innate magic comes from the Shadowfell and you are a creature of shadow. You might trace your ancestry to an entity from that place or maybe you were exposed to its fell energy and became transformed by it. \n\nThe power of of shadow magic causes changes in our appearance and presence. Your life force becomes muted as it struggles to remain apart from the dark energy coursing through you." compset="CustomSpec" uniqueness="unique">
    <comment>Supersedes UA - Sorceror</comment>
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpSor" name="Sorcerer" abbrev="Sorcerer"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="c5CSorEyeD">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CSorStrG">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CSorHoOm">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CSorShaW">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="c5CSorUmFo">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    </thing>
  <thing id="c5CSorEyeD" name="Eyes of the Dark" description="At 1st level, you gain darkvision with a range of 120 feet. \n\nWhen you reach 3rd level in this class, you learn the {i}darkness{/i} spell, which doesn&apos;t count against the number of sorcerer spells known. Additionally, you can cast it by spending 2 sorcery points or by expnding a spell slot. If you cast it with sorcery points, you can see through the darkness created by the spell." compset="ClSpecial">
    <tag group="FeatureTyp" tag="Special" name="Special" abbrev="Special"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <bootstrap thing="raDarkVis">
      <autotag group="Value" tag="120"/>
      </bootstrap>
    <bootstrap thing="spDarkness">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Sorcerer >= 3]]></containerreq>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Known"/>
      <autotag group="Helper" tag="Memorized"/>
      </bootstrap>
    </thing>
  <thing id="c5CSorStrG" name="Strength of the Grave" description="Starting at 1st level, when damage reduces you to 0 hit points, you can make a Charisma saving throw (DC 5 + the damage taken). On a success, you can instead drop to 1 hit point. You cannot use this feature if you are reduced to 0 hit points by a critical hit or by radiant damage. \n\nAfter the saving throw succeeds, you can&apos;t use this feature again until you finish a long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="User" tag="Tracker"/>
    <tag group="FeatureTyp" tag="Special" name="Special" abbrev="Special"/>
    <tag group="Usage" tag="LongRest"/>
    </thing>
  <thing id="c5CSorHoOm" name="Hound of Ill Omen" description="At 6th level, you gain the ability to call forth a hound of ill omen. As a bonus action, you can spend 3 sorcery points to summon the hound to an unoccupied space within 30 feet of the target. The target must be within 120 feet of you and you must be able to see the target.\n\nThe hound uses the dire wolf statistics found in the MM or PHB, with the following changes:\n\n* The hound size is Medium, not Large.\n* The hound&apos;s creature type is Monstrosity, not Beast.\n* It appears with a number of temporary hit points equal to 1/2 your sorcerer level.\n* It can move through other creatures and objects as if they were difficult terrain. The hound takes 5 force damage if it ends its turn inside an object.\n* At the start of its turn, the hound automatically knows its target&apos;s location. If the target was hidden, it is no longer hidden from the hound. \n\n Roll initiative for the hound. On its turn it can move only toward its target by the most direct route, and can only use its action to attack its target. The hound can make opportunity attacks, but only against its target. While the hound is within 5 feet of the target, the target has disadvantage on saving throws from spells you cast. The hound disappears if it is reduced to 0 hit points, its target is reduced to 9 hit points, or after 5 minutes has passed." compset="ClSpecial">
    <fieldval field="abRange" value="120"/>
    <fieldval field="abDuration" value="see description"/>
    <tag group="abAction" tag="Bonus" name="Bonus" abbrev="Bon"/>
    <tag group="abRange" tag="Feet"/>
    </thing>
  <thing id="c5CSorShaW" name="Shadow Walk" description="At 14th level, you gain the ability to step from one shadow into another.  As a bonus action, when you are in dim light or darkness, you can teleport up to 120 feet to an unoccupied space you can see that is also in dim light or darkness." compset="ClSpecial">
    <fieldval field="abRange" value="120"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="abAction" tag="Bonus" name="Bonus" abbrev="Bon"/>
    <tag group="abRange" tag="Feet"/>
    </thing>
  <thing id="c5CSorUmFo" name="Umbral Form" description="Starting at 18th level, as a bonus action you can spend 6 sorcery points to magically transform yourself into a shadowy form. In this form, you cn move through other creatures as if they were difficult terrain. You take 5 force damage is you end your turn inside an object. Additionally, you have resistance to all damage except force and radiant damage. \n\nYou can remain in this form for 1 minute. The magic ends early if you become incapacitated, die, or if you dismiss it as a bonus action." compset="ClSpecial">
    <fieldval field="abDuration" value="1"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="abDuration" tag="Minute"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)

if (field[abilActive].value <> 0) then
     perform hero.assign[DamComRes.dc5CAtkNFR]
endif]]></eval>
    </thing>
  <thing id="dc5CAtkNFR" name="All damage except force and radiant" compset="DamComType"></thing>
  <thing id="c5CWlkCele" name="The Celestial" description="Your patron is a powerful being associated with the Upper Planes. You have bound yourself to a being such as an ancient unicor, empyrean, ki-rin or other entity existing in the planes of eternal bliss. Your pact with that being allows you to experience a slight touch of the holy light that shines through the multiverse.\n\n{b}Expanded Spell List{/b}\nThe Celestial lets you choose from an expanded list of spells when you learn a warlock spell. The following spells are added to the warlock spell list for you.\n\n{b}Celestial Expanded Spells{/b} \n{b}Spell Level Spells{/b}\n1st               {i}cure wounds, guiding bolt{/i}\n2nd              {i}flaming sphere, lesser restoration{/i}\n3rd               {i}daylight, revivify{/i}\n4th               {i}guardian of faith, wall of fire{/i}\n5th               {i}flame strike, greater restoration{/i}" compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abCategory" tag="WlkOthPatr" name="Warlock Otherworldly Patron" abbrev="Warlock Otherworldly Patron"/>
    <tag group="ClsAllowSp" tag="spCureWoun"/>
    <tag group="ClsAllowSp" tag="spGuidBolt"/>
    <tag group="ClsAllowSp" tag="spFlamSphe"/>
    <tag group="ClsAllowSp" tag="spLessRest"/>
    <tag group="ClsAllowSp" tag="spDaylight"/>
    <tag group="ClsAllowSp" tag="spRevivify"/>
    <tag group="ClsAllowSp" tag="spGuarFait"/>
    <tag group="ClsAllowSp" tag="spWallFire"/>
    <tag group="ClsAllowSp" tag="spFlamStri"/>
    <tag group="ClsAllowSp" tag="spGreaRest"/>
    <bootstrap thing="c5CWlkCBoC">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CWlkHeLi">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CWlkRaSo">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CWlkCeRe">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CWlkSeVe">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000">doneif (islinkage[table] = 0)

      perform linkage[table].pushtags[ClsAllowSp.?]</eval>
    </thing>
  <thing id="c5CWlkCBoC" name="Bonus Cantrips" description="At 1st level, you gain the {i}sacred flame{/i} and {i}light{/i} cantrips. They are counted as Warlock cantrips for you, but do not count against your number of cantrips known." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    <bootstrap thing="spSacrFlam">
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpWlk"/>
      <autotag group="Helper" tag="Cantrip"/>
      </bootstrap>
    <bootstrap thing="spLight">
      <autotag group="Helper" tag="Free"/>
      <autotag group="SpellType" tag="cHelpWlk"/>
      <autotag group="Helper" tag="Cantrip"/>
      </bootstrap>
    </thing>
  <thing id="c5CWlkHeLi" name="Healing Light" description="At 1st level, you gain the power to channel celestial energy to heal wounds. You have a pool of dice equal to your warlock level +1 of d6s to fuel this healing.\n\nAs a bonus action you may heal a creature within 60 feet of you, spending dice from your pool. You may only spend up to your charisma modifier at one time (minimum of 1).  \n\nYou regain all expended dice from the pool when you finish a long rest." compset="ClSpecial">
    <fieldval field="abValue" value="1"/>
    <fieldval field="abValue2" value="6"/>
    <fieldval field="abRange" value="60"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="abAction" tag="Bonus" name="Bonus" abbrev="Bon"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="LvNamePar" tag="DieCntVal" name="&quot;field[abValue].value&quot; dY" abbrev="&quot;field[abValue].value&quot; dY"/>
    <tag group="LvNamePar" tag="DieSizVal2" name="Xd &quot;field[abValue2].value&quot;" abbrev="Xd &quot;field[abValue2].value&quot;"/>
    <tag group="Usage" tag="LongRest" name="/long rest" abbrev="/long rest"/>
    <tag group="abDuration" tag="Instant"/>
    <eval phase="PostLevel" priority="10000">field[trkMax].value += #levelcount[Warlock]+1</eval>
    </thing>
  <thing id="c5CWlkRaSo" name="Radiant Soul" description="Starting at 6th level, your gain resistance to radiant damage. Additionally, when you cast a spell that deals radiant or fire damage, you can add your Charisma modifier to one radiant or fire damage roll of that spell against a single one of its targets." compset="ClSpecial">
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal"/>
    <eval phase="PostLevel" priority="1000"><![CDATA[      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      doneif (tagis[Helper.Disable] <> 0)

      perform hero.assign[DamageRes.dtRadiant]]]></eval>
    </thing>
  <thing id="c5CWlkCeRe" name="Celestial Resilience" description="At 10th level, you gain temporary hit points whenever you finish a short or long rest equal to your warlock level + your Charisma modifier. Additionally, you can choose up to 5 creaures that you can see at the end of the rest. These creatures gain temporary hit poitns equal to half your warlock level + your Charisma modifier." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Sight"/>
    <tag group="abDuration" tag="Instant"/>
    <eval phase="PostAttr" priority="15000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)

herofield[tBonusHP].value += #attrmod[aCHA] + #levelcount[Warlock]]]></eval>
    </thing>
  <thing id="c5CWlkSeVe" name="Searing Vengeance" description="Starting at 14th  level, the radiant energy from your patron allows you to resist death&apos;s call. Whenever you make a death saving throw at the start of your turn, you can instead rise back to you feet in a burst of radiant energy. You regain hit points equal to half your hit point maximum and stand up if you want to. The radiant burst affects any creatures of your choice within 30 feet of you, causing them to take 2d8 + your Charisma modifier radiant damage and becoming blinded until the end of your current turn. \n\nYou can only use this once per long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="LongRest"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="abAction" tag="None"/>
    </thing>
  <thing id="c5CWlkHexB" name="The Hexblade" description="You have made your pact with a powerful, sentient magic weapon carved from the stuff of the Shadowfell. Many hexblade warlocks create weapons that emulate legendary weapons formed with this shadowy force. Others forgo such arms, content to weave the power of the Shadowfell into their magic. \n\n{b}Expanded Spell List{/b}\nThe Hexblade lets you choose from an expanded list of spells when you learn a warlock spell. The following spells are added to the warlock spell list for you.\n\n{b}Hexblade Expanded Spells{/b} \n{b}Spell Level Spells{/b}\n1st               {i}shield, wrathful smite{/i}\n2nd              {i}blur, branding smite{/i}\n3rd               {i}blink, elemental weapon{/i}\n4th               {i}phantasmal killer, staggering smite{/i}\n5th               {i}banishing smite, cone of cold{/i}" compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="ClsAllowSp" tag="spBranSmit" name="Branding Smite" abbrev="Branding Smite"/>
    <tag group="ClsAllowSp" tag="spConeCold" name="Cone of Cold" abbrev="Cone of Cold"/>
    <tag group="ClsAllowSp" tag="spBlur"/>
    <tag group="ClsAllowSp" tag="spPhanKill" name="Phantasmal Killer" abbrev="Phantasmal Killer"/>
    <tag group="ClsAllowSp" tag="spShield" name="Shield" abbrev="Shield"/>
    <tag group="ClsAllowSp" tag="sp5CBanSmi"/>
    <tag group="ClsAllowSp" tag="sp5CElemWe" name="Elemental Weapon" abbrev="Elemental Weapon"/>
    <tag group="ClsAllowSp" tag="sp5CStaggS" name="Staggering Smite" abbrev="Staggering Smite"/>
    <tag group="ClsAllowSp" tag="sp5CWrathS" name="Wrathful Smite" abbrev="Wrathful Smite"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abCategory" tag="WlkOthPatr" name="Warlock Otherworldly Patron" abbrev="Warlock Otherworldly Patron"/>
    <tag group="ClsAllowSp" tag="spBlink" name="Blink" abbrev="Blink"/>
    <bootstrap thing="c5CWlkHeCu">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CWlkHeWa">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CWlkAcSp">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CWlkArHe">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CWlkMaHe">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000">doneif (islinkage[table] = 0)

      perform linkage[table].pushtags[ClsAllowSp.?]</eval>
    </thing>
  <thing id="c5CWlkHeCu" name="Hexbladeâ€™s Curse" description="Starting at 1st level, you gain the ability to place a baleful curse on an enemy. As a bonus action, choose one creature you can see within 30 feet of you. The target is cursed for 1 minute. Until the curse ends, you gain the following benefits:\n\nâ€¢  You gain a bonus to damage rolls against the cursed target. The bonus equals your proficiency bonus.\nâ€¢  Any attack roll you make against the cursed target is a critical hit on a roll of 19 or 20 on the d20.\nâ€¢  If the cursed target dies, you regain hit points equal to your warlock level + your Charisma modifier (minimum of 1 point).\n\nThe curse ends early if the target dies, you die, or you become incapacitated. \n\nYou canâ€™t use this feature again until you finish a short or long rest." compset="ClSpecial">
    <fieldval field="abDuration" value="1"/>
    <fieldval field="abRange" value="30"/>
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="Usage" tag="ShortRest" name="/short rest" abbrev="/short rest"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="abDuration" tag="Minute" name="Minute" abbrev="min"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="User" tag="Activation"/>
    </thing>
  <thing id="c5CWlkHeWa" name="Hex Warrior" description="At 1st level, you gain proficiency with medium armor, shields, and martial weapons. \n\nWhen you finish a long rest, you can touch one weapon that you are proficient with  and that lacks the two-handed property, you can use your Charisma modifier, instead of Strength or Dexterity, for the attack and damage rolls. This benefits lasts until you finish a long rest. If you later gain the Pact of the Blade feature, this benefit extends to every pact weapon you conjure with that feature, not matter the type." compset="ClSpecial">
    <tag group="ArmProfGrp" tag="ArmorMed" name="Medium armor" abbrev="Medium armor"/>
    <tag group="ArmProfGrp" tag="Shields" name="Shields" abbrev="Shields"/>
    <tag group="ArmProfGrp" tag="WepMartial" name="Martial weapons" abbrev="Martial weapons"/>
    <tag group="User" tag="Activation" name="Activation" abbrev="Activation"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)

perform forward[ArmProfGrp.?]]]></eval>
    <eval phase="Final" priority="10000" index="2"><![CDATA[doneif (tagis[Helper.Disable] = 1)
doneif (field[abilActive].value = 0)
      
~ foreach pick in hero from BaseWep 
foreach pick in hero from BaseWep where "(fieldval:gIsEquip <> 0) & !wProperty.TwoHanded"
   eachpick.field[wMelAttTxt].text = "charisma"
   eachpick.field[wMeleeAttr].value = hero.child[aCHA].field[aBonus].value
   eachpick.field[wDamAttr].value = hero.child[aCHA].field[aBonus].value
nexteach]]></eval>
    </thing>
  <thing id="c5CWlkAcSp" name="Accursed Specter" description="Starting at 6th level, you can bind the soul of a slain foe into your service, temporarily. When you slay a humanoid, you can cause its spirit to rise from the corpse as a {b}specter{/b}. When it appears, it gains temporary hit points equal to half your warlock level. Roll initiative for the specter, which will act on its own turn. It obeys your verbal commands and can apply a modifier to its attack rolls equal to your Charisma modifier (minimum of +0).\n\nThe specter remains your servant until the end of your next long rest, when it travel on to the afterlife. \n\nOnce you bind a {b}specter{/b} with this ability, you can&apos;t do so again until you finish a long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="abRange" tag="Attack"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abAction" tag="Free"/>
    <tag group="Usage" tag="LongRest"/>
    </thing>
  <thing id="c5CWlkArHe" name="Armor of Hexes" description="At 10th level, your hex grows more powerful. If the target cursed by your Hexbladeâ€™s Curse hits you with an attack roll, roll a d6. On a 4 or higher, the attack instead misses you, regardless of its roll." compset="ClSpecial">
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="abAction" tag="None"/>
    </thing>
  <thing id="c5CWlkMaHe" name="Master of Hexes" description="Starting at 14th level, you can move your Hexblade&apos;s Curse from a slain creature to another creature. When a creature cursed dies, you can apply the curse to a different creature within 30 feet of you that you can see, provided you aren&apos;t incapacitated. When you apply the curse to the new target, you don&apos;t regain hit points from the death of the previously cursed creature." compset="ClSpecial">
    <fieldval field="abRange" value="30"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abAction" tag="Free"/>
    <tag group="abDuration" tag="Instant"/>
    </thing>
  <thing id="c5CWlkAsMo" name="Aspect of the Moon" description="{i}Prerequisite: Pact of the Tome feature{/i}\n\nYou can no longer be forced to sleep and don&apos;t need to sleep either. To gain the benefits of a long rest, you must spend all 8 hours doing light activity, such as keeping watch or reading your Book of Shadows." compset="CustomSpec" summary="You cease needing to sleep." uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <exprreq message="Pact of the Tome required."><![CDATA[#hasability[cWlkPacTom] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkClFl" name="Cloak of Flies" description="As a bonus action, you can conjure an aura that looks like buzzing flies around you. The aura includes your space and extends in a 5ft  sphere, and is blocked by total cover. Lasting until you are incapacitated or you dismiss it with a bonus action.\n\nThe aura grants you advantage on Charisma (Intimidation) checks but disadvantage on all other Charisma checks. In addition, a creature that starts its turn within 5 feet of you takes poison damage equal to your Charisma modifier. \n\nYou may only use this once per short or long rest." compset="CustomSpec" uniqueness="unique">
    <fieldval field="trkMax" value="1"/>
    <usesource source="5eXGTECP"/>
    <tag group="abAction" tag="Bonus" name="Bonus" abbrev="Bon"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <tag group="User" tag="Tracker"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="Usage" tag="ShortRest"/>
    <exprreq message="Prerequisite: 5th level"><![CDATA[#levelcount[Warlock] >= 5]]></exprreq>
    </thing>
  <thing id="c5CWlkElSm" name="Eldritch Smite" description="Once per turn, when you hit a creature with your pact weapon, you can expend a warlock spell slot to cause the target to suffer an additional 1d8 force damage, plus another 1d8 force damage per level of the spell slot. You can also knock the target prone if it is Huge or smaller." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <exprreq message="Prerequisite: 5th level"><![CDATA[#levelcount[Warlock] >= 5]]></exprreq>
    <exprreq message="Prerequisite: Pact of the Blade feature"><![CDATA[#hasability[cWlkPacBla] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkGhGl" name="Ghostly Gaze" description="As an action, you gain the power to see through solid objects, to a range of 30ft. Within that range, you have darkvision if you do not already have it. This lasts for 1 minute or until your concentration ends (as if you were concentrating on a spell). The objects you perceive while using this invocation appear as ghostly and transparent.\n\nYou may only use this once per short or long rest." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abAction" tag="Action" name="Action" abbrev="Act"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <exprreq message="Prerequisite: 7th level"><![CDATA[#levelcount[Warlock] >= 7]]></exprreq>
    </thing>
  <thing id="c5CWlkGiDe" name="Gift of the Depths" description="You gain the ability to breath underwater, and a swiming speed equal to your walking speed. \n\nAdditionally you may cast {i}water breathing{/i} without expending a spell slot. You may only cast this spell once per long rest." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abAction" tag="Action" name="Action" abbrev="Act"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <bootstrap thing="xSwim"></bootstrap>
    <bootstrap thing="spWateBrea">
      <autotag group="Helper" tag="SpellLike"/>
      <autotag group="Usage" tag="LongRest"/>
      <assignval field="trkMax" value="1"/>
      </bootstrap>
    <bootstrap thing="raAmphib"></bootstrap>
    <eval phase="PreLevel" priority="10000">#applyvalue[xSwim, hero.child[Speed].field[tSpeed].value]</eval>
    <exprreq message="Prerequisite: 5th level"><![CDATA[#levelcount[Warlock] >= 5]]></exprreq>
    </thing>
  <thing id="c5CWlkGELO" name="Gift of the Ever-Living Ones" description="Whenever you regain HP, as long as your familiar is within 100ft of you, treat all dice rolled as if they rolled their max." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abAction" tag="Action" name="Action" abbrev="Act"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <exprreq message="Prerequisite: Pact of the Chain feature"><![CDATA[#hasability[cWlkPacCha] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkGrHa" name="Grasp of Hadar" description="On each of your turns, upon hitting a creature with your {i}eldritch blast{/i} cantrip, you may move that creature in a straight line up to 10 ft closer to yourself." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abAction" tag="Action" name="Action" abbrev="Act"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <exprreq message="Prerequisite: Eldritch Blast cantrip"><![CDATA[childlives[spEldrBlas] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkImPW" name="Improved Pact Weapon" description="You can use any weapon crafted with your Pact of the Blade feature as a spellcasting focus for your spells. \n\nAdditionally, the weapon gains a +1 bonus to its attack and damage rolls, unless it is a magic weapon that already has a bonus to those rolls. \n\nThe weapon you conjure with your Pact can also take the form of a shortbow, longbow, light crossbow, or heavy crossbow." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)


if ( hero.childfound[cWlkPacBla].field[usrChosen1].chosen.field[Bonus].value = 0 ) then 
   if ( hero.childfound[cWlkPacBla].field[usrChosen1].chosen.tagis[portal.wMagChoose] = 0 ) then 
      hero.childfound[cWlkPacBla].field[usrChosen1].chosen.field[Bonus].value = 1
   endif
endif]]></eval>
    <exprreq message="Prerequisite: Pact of the Blade feature"><![CDATA[#hasability[cWlkPacBla] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkLaLe" name="Lance of Lethargy" description="{i}Prerequisite:{/i} eldritch blast {i}cantrip{/i}\n\nOnce on each of your turns, you can reduce the speed of any creature hit with your {i}eldritch blast{/i} by 10 feet until the end of your next turn." compset="CustomSpec" summary="Your {i}eldritch blast{/i} cantrip weakens foes." uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <exprreq message="Eldritch Blast cantrip required."><![CDATA[childlives[spEldrBlas] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkMadH" name="Maddening Hex" description="As a bonus action, you cause a psychic disturbance around the target cursed by your {i}hex{/i} spell, or other warlock features such as Hexblade&apos;s Curse or Sign of Ill Omen. Doing so, you deal psychic damage to the target and each creature of your choice within 5 feet of it equal to your Charisma modifier (minimum of 1 damage). You must be able to see the cursed target and it must be within 30 feet of you." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abAction" tag="Action" name="Action" abbrev="Act"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <exprreq message="Prerequisite: 5th level"><![CDATA[#levelcount[Warlock] >= 5]]></exprreq>
    </thing>
  <thing id="c5CWlkRelH" name="Relentless Hex" description="Your curse creatures a temporary bond between you and the target of your curse. As a bonus action, you may teleport up to 30 feet towards the target, into an unoccupied space within 5 feet of the target cursed by your {i}hex{/i} spell or other warlock features such as Hexblade&apos;s Curse or Sign of Ill Omen. You must be able to see the cursed target in order to use this invocation." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abAction" tag="Action" name="Action" abbrev="Act"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <exprreq message="Prerequisite: 7th level"><![CDATA[#levelcount[Warlock] >= 7]]></exprreq>
    </thing>
  <thing id="c5CWlkShrS" name="Shroud of Shadow" description="You can cast the  {i}Invisibility{/i} spell at will, without expending a spell slot." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <bootstrap thing="spInvisibi">
      <autotag group="Helper" tag="SpellLike"/>
      <autotag group="Usage" tag="AtWill"/>
      </bootstrap>
    <exprreq message="Prerequisite: 15th level"><![CDATA[#levelcount[Warlock] >= 15]]></exprreq>
    </thing>
  <thing id="c5CWlkToLe" name="Tomb of Levistus" description="You can entomb yourself in ice as a reaction to you taking damage. You gain 10 temporary hit points per warlock level, which must take as much of the triggering damge as possible. Immediately after you take the damage, you gain vulnerablility to fire damage, your speed is reduced to 0 and you become incapacitated. These effects, including any remaining hit points, all end when the ice melts away at the end of your next turn. \n\nOnce you have used this invocation, you can&apos;t do so again until you finish a short or long rest." compset="CustomSpec" uniqueness="unique">
    <fieldval field="trkMax" value="1"/>
    <usesource source="5eXGTECP"/>
    <tag group="Usage" tag="ShortRest" name="/short rest" abbrev="/short rest"/>
    <tag group="User" tag="Tracker" name="tracker" abbrev="tracker"/>
    <tag group="abAction" tag="Reaction" name="Reaction" abbrev="React"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <bootstrap thing="PoolWlkBls">
      <assignval field="actIncrNam" value="ToLHP"/>
      <assignval field="livename" value="Tomb of Levistus"/>
      </bootstrap>
    <eval phase="Final" priority="1000" index="2"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)

if ( hero.findchild[TempHpPool,"!fieldisempty:actIncrNam"].field[abilActive].value <> 0 ) then
   perform hero.assign[DamageVuln.dtFire]
   hero.child[Speed].field[tSpeed].value = 0
endif]]></eval>
    <eval phase="Final" priority="500" name="Calculate dark one&apos;s blessing temp Hp"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)
      
field[abValue].value += #levelcount[Warlock] * 10
     
var temphp as number
temphp = maximum(field[abValue].value,1)

hero.findchild[TempHpPool,"!fieldisempty:actIncrNam"].field[thpMinAllw].value = temphp
hero.findchild[TempHpPool,"!fieldisempty:actIncrNam"].field[thpMaxAllw].value = temphp]]></eval>
    <exprreq message="Prerequisite: 5th level"><![CDATA[#levelcount[Warlock] >= 5]]></exprreq>
    </thing>
  <thing id="c5CWlkTrEs" name="Trickster&apos;s Escape" description="You may cast {i}freedom of movement{/i} once on yourself without expending a spell slot. You may only do this once per long rest." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <bootstrap thing="spFreeMove">
      <autotag group="Helper" tag="SpellLike"/>
      <autotag group="Usage" tag="LongRest"/>
      <assignval field="trkMax" value="1"/>
      </bootstrap>
    <exprreq message="Prerequisist: 7th level"><![CDATA[#levelcount[Warlock] >= 7]]></exprreq>
    </thing>
  <thing id="c5CWizWaMa" name="War Magic" description="A plethora of arcane colleges turn out wizards trained for war. The tradition of War Magic blends both priciples learned from evocation and abjuration magic, rather than specializing in either of those schools. The techniques learned from War Magic empower a caster&apos;s spells for both offense and defense. \n\nFollowers of this tradition are often known as war mages." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="ProductId" tag="Wizards" name="Wizards of the Coast, LLC" abbrev="Wizards of the Coast, LLC"/>
    <tag group="SpecSource" tag="cHelpWiz" name="Wizard" abbrev="Wizard"/>
    <tag group="abCategory" tag="WizArcTrad" name="Wizard Arcane Tradition" abbrev="Wizard Arcane Tradition"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="c5CWizArDe">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CWizTaWi">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CWizPoSu">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CWizDuMa">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CWizDeSh">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    </thing>
  <thing id="c5CWizArDe" name="Arcane Deflection" description="At 2nd level, you learn to prevent harm to yourself with your magic. When you fail a saving throw or are hit by an attack, you can use your reaction to gain a +2 bonus to your AC or a +4 bonus to your saving throw for that attack before resolution. \n\nWhen you use this feature, you can&apos;t cast spells more complex than cantrips until the end of your next turn." compset="ClSpecial">
    <tag group="abAction" tag="Reaction"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Instant"/>
    </thing>
  <thing id="c5CWizTaWi" name="Tactical Wit" description="Starting at 2nd level, you can give yourself a bonus to your initiative rolls equal to your Intelligence modifier." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    <eval phase="PostAttr" priority="10000">doneif (tagis[Helper.Disable]  = 1)

hero.childfound[Initiative].field[Bonus].value += #attrmod[aINT]</eval>
    </thing>
  <thing id="c5CWizPoSu" name="Power Surge" description="At 6th level, you can store magical energy in order to later empower damaging spells.\n\nYou can store a maximum number of power surges equal to your Intelligence modifier (minimum of 1). Whenever you successfully counter or end a spell with {i}counterspell{/i} or {i}dispel magic{/i} you gain an additional power surge. When you end a short rest with no power surges left you gain one power surge. When you finish a long rest, your number of power surges resets to one. \n\nYou can release a stored power surge once per turn when you deal damage to a creature or object with a wizard spell. You can spen one power surge to deal extra force damage equal to half your wizard level by spending one stored power surge.\n\n{b}Note:{/b} You must manually reset the charges on the In-Play tab to 1 when you finish a short or long rest." compset="ClSpecial">
    <comment>Can you script to reset to 1?</comment>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrOnly"/>
    <tag group="ChargeCalc" tag="FinalMin1"/>
    <tag group="ChargeAttr" tag="aINT"/>
    <tag group="ChargeAttr" tag="Minimum1"/>
    <tag group="Usage" tag="Charges"/>
    <tag group="abAction" tag="None"/>
    </thing>
  <thing id="c5CWizDuMa" name="Durable Magic" description="Starting at 10th level, when you are channeling a spell, the magic can help ward off harm. When you are maintaining concentration on a spell, you have a +2 bonus to AC and all saving throws." compset="ClSpecial">
    <fieldval field="abDuration" value="Concentration"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abAction" tag="None"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostAttr"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)

if (field[abilActive].value <> 0) then
     #applybonus[Bonus, hero.child[ArmorClass], 2]
     #applybonus[Bonus, hero.child[svAll], 2]
endif]]></eval>
    </thing>
  <thing id="c5CWizDeSh" name="Deflecting Shroud" description="At 14th level, your Arcane Deflection can reflect some damage to your foes. When you use your Arcane Deflection, you can cause up to three creatures of your choice that you can see within 60 feet of you take force damage equal to half your wizard level." compset="ClSpecial">
    <fieldval field="abRange" value="60"/>
    <fieldval field="abText" value="force damage"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="abAction" tag="Reaction"/>
    <tag group="LvNamePar" tag="AppText"/>
    <tag group="LvNamePar" tag="AppValue"/>
    <eval phase="PostLevel" priority="10000">field[abValue].value = round(#levelcount[Wizard]/2,0,-1)</eval>
    </thing>
  <thing id="cfg5CDivSp" name="Divine Spell" description="This helper is used to pick a Divine Spell replacement for relearning the spells learned by a Divine Soul Sorcerer." compset="Configure" uniqueness="unique">
    <fieldval field="cfgAllwSp1" value="component.BaseSpell &amp; sClass.cHelpClr &amp; !sLevel.0"/>
    <fieldval field="cfgMaxSp1" value="1"/>
    <eval phase="Final" priority="50000"><![CDATA[~ Loop through all the spell picks added on the "Divine Spell" tab
perform pulltags[sClass.?,SpellSort]
perform pulltags[sClass.?,SpellType]
foreach pick in hero from BaseSpell where "CfgSpell.cfg5CDivSp"
     perform eachpick.pushtags[SpellSort.?]
     perform eachpick.pushtags[SpellType.?]
     ~ Pull the spell level selected and the deny tags so that 
     ~ we can set the message and selection list corretly.
     perform eachpick.pulltags[sLevel.?]
     perform eachpick.pulltags[ClsDenySp.?]        
     ~ set the tags for it to be a sorcerer spell known
     perform eachpick.assign[Helper.Free]
     perform eachpick.assign[Helper.Memorized]
     perform eachpick.assign[Helper.Known]
     perform eachpick.assign[SpellType.cHelpSor]
nexteach]]></eval>
    </thing>
  <thing id="c5CRogXGSc" name="Scout" description="Skilled at stealth and survival, you range far ahead of your companions. Many scouts are the eyes and ears of whatever unit they are attached to and serve well in the roles of spy, ambusher and bounty hunter." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eXGTECP" parent="p5eBooks" name="Xanathar&apos;s Guide To Everything"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpRog" name="Rogue" abbrev="Rogue"/>
    <tag group="abCategory" tag="RogArchety" name="Rogue Archetype" abbrev="Rogue Archetype"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="c5CRogXGSk">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CRogXGSu">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CRogXGSM">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="c5CRogXGAM">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="c5CRogXGSS">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    </thing>
  <thing id="c5CRogXGSk" name="Skirmisher" description="Starting at 3rd level, you can move up to half your speed as a reaction when an enemy ends its turn within 5 feet of you. Your movement doesnâ€™t provoke opportunity attacks." compset="ClSpecial">
    <tag group="abAction" tag="Reaction" name="Reaction" abbrev="React"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    </thing>
  <thing id="c5CRogXGSu" name="Survivalist" description="At 3rd level, you gain proficiency in the Nature and Survival skills. Your proficiency bonus is doubled for any ability check you make for both of those proficiencies." compset="ClSpecial">
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)

perform hero.assign[ProfDouble.skNature]
perform hero.assign[ProfDouble.skSurvival]]]>
      <before name="Calc skProfBon"/>
      </eval>
    </thing>
  <thing id="c5CRogXGSM" name="Superior Mobility" description="At 9th level, your walking speed increases by 10 feet. If you have a climbing or swimming speed, it increases by 10 feet as well." compset="ClSpecial">
    <fieldval field="abValue" value="10"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)

hero.child[Speed].field[tSpeed].value += field[abValue].value
if ( hero.child[xClimb].field[abValue].value > 0 ) then
     hero.child[xClimb].field[abValue].value += field[abValue].value
endif
if ( hero.child[xSwim].field[abValue].value > 0 ) then
     hero.child[xSwim].field[abValue].value += field[abValue].value
endif]]></eval>
    </thing>
  <thing id="c5CRogXGAM" name="Ambush Master" description="Starting at 13th level, you have advantage on initiative rolls. Additionally, the first creature you strike during the first round of combat becomes easier to hit. Attack rolls against this target by you or your allies have advantage until the start of your next turn." compset="ClSpecial">
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
~ If not disabled get out now!
doneif (tagis[Helper.Disable] = 1)
#situational[hero.child[Initiative], "You have advantage on Initiative rolls.", field[thingname].text]]]></eval>
    </thing>
  <thing id="c5CRogXGSS" name="Sudden Strike" description="Starting at 17th level, if you take the Attack action on your turn, you can make one additional attack as a bonus action. This attack can benefit from your Sneak Attack even if you have already used it this turn, but you can&apos;t use your Sneak attack against the same target more than once in a turn." compset="ClSpecial">
    <tag group="abAction" tag="Bonus" name="Bonus" abbrev="Bon"/>
    </thing>
  </document>
